define("mw.module.settings",["jquery"],function(t){return{init:function(){var e=this;t(function(){var n=t("#settings");n.length>0&&(e.endpoints.bluegrass=n.data("e-bg"),e.endpoints.mux=n.data("e-m"),e.endpoints.comments=n.data("e-c"),e.endpoints.delToro=n.data("e-dt"),e.assetPath=n.data("e-ap"),e.baseUrl=n.data("e-u"),e.videoDomain=n.data("e-vd"),e.identityDomain=n.data("e-id"))})},endpoints:{}}});
define("mw.module.linking",["jquery"],function(n){var i=function(){return this.url?this.url:void 0},t=function(){return this.type&&this.link?"/"+this.type+"/"+this.link:void 0};return{init:function(){},authorLink:function(){return t},columnLink:function(){return i}}});
define("bluegrass.quote",["vendor.asset.bluegrass/bluegrass","numeral","jquery"],function(e,t,n){var l={},a={},i={last:"0,0.00",largeLast:"0,0",largeLastMinimum:1e5,change:"0,0.00"},r=function(e){var t=l[e.h.t].elements;a[e.h.t]=e,null!==t&&"undefined"!=typeof t&&n.each(t,function(){n(this).trigger("bgTick",e)})},o=function(e,l){var a=n(this),r=a.data("bgquote");if(r.needToBind&&(r.needToBind=!1,r.lastElement=a.find(".bgLast"),r.changeElement=a.find(".bgChange"),r.percentChangeElement=a.find(".bgPercentChange"),r.timeElement=a.find(".bgTimestamp"),r.volumeElement=a.find(".bgVolume"),r.bidElement=a.find(".bgBid"),r.askElement=a.find(".bgAsk")),l&&l.b){if(r.filterMoment>0&&r.filterType.length>0)if((new Date).getTime()>r.filterMoment)r.filterMoment=0,r.filterType="";else if(l.b.y==r.filterType)return;var o=n.extend({},i),m=a.data("bgformat");if(m&&n.extend(o,m),r.lastElement.length>0&&l.b.l){var s=l.b.l>=o.largeLastMinimum?o.largeLast:o.last;r.lastElement.text(t(l.b.l).format(s))}r.bidElement.length>0&&l.b.b&&r.bidElement.text(t(l.b.b).format("0,000")),r.askElement.length>0&&l.b.a&&r.askElement.text(t(l.b.a).format("0,000"));l.b.c>0?"+":"";if(r.changeElement.length>0&&l.b.c&&r.changeElement.text(t(l.b.c).format("+"+o.change)),r.percentChangeElement.length>0&&l.b.c&&l.b.l){var b=(l.b.l-(l.b.l-l.b.c))/(l.b.l-l.b.c);r.percentChangeElement.text(t(b).format("+"+o.change+"%"))}if(r.timeElement.length>0&&l.b.z){var f=BlueGrass.Utility.convertToExchangeTime(l.b.z,l.b.e),u=f.toString();r.timeElement.text(o.dots?u.replace(/(a|A|p|P)(M|m)/,"$1.$2."):u)}if(r.volumeElement.length>0&&l.b.v&&r.volumeElement.text(l.b.v),l.b.l){var c="";r.lastPrice>l.b.l?c="tickDown":r.lastPrice<l.b.l&&(c="tickUp"),r.lastPrice=l.b.l,c.length>0&&(a.addClass(c),setTimeout(function(){a.removeClass(c)},500))}if(l.b.c){var g="neutral";l.b.c<0?g="down":l.b.c>0&&(g="up"),g!=r.lastDirection&&(a.removeClass("up").removeClass("down").removeClass("neutral"),a.addClass(g),r.lastDirection=g)}"aftermarket"===l.b.y&&""===r.filterType&&0===r.filterMoment&&"normal"===r.lastType?(r.filterMoment=(new Date).getTime()+18e5,r.filterType="normal"):"normal"===l.b.y&&""===r.filterType&&0===r.filterMoment&&"premarket"===r.lastType&&(r.filterMoment=(new Date).getTime()+18e5,r.filterType="premarket"),l.b.y&&(r.lastType=l.b.y)}};return{setup:function(){var e=this;n("div.bgQuote, span.bgQuote, tr.bgQuote, td.bgQuote, li.bgQuote").each(function(){var t=n(this),l=t.data("channel");l&&e.bindElement(this,l,{sequence:null,number:1})}),this.setup=function(){"undefined"!=typeof console&&console.warn&&console.warn("bluegrass quote setup called more than once")}},unbindElement:function(t,n){if(l[n]){var a=l[n].elements,i=l[n].channel;if(null!==a&&1===a.length&&a[0][0]===t[0])i.removeCallback(r),l[n]=null,delete l[n];else if(null!==a&&a.length>1){for(var o=-1,m=0;m<a.length;m++)if(a[m][0]===t[0]){o=m;break}o>=0&&(a=e.Utility.arrayRemove(a,o))}}},bindElement:function(t,a,i){var m=e.Runtime.getConnection();if(m&&null!==m&&"undefined"!=typeof m&&a&&0!==a.length){l[a]&&null!==l[a]&&"undefined"!=typeof l[a]||(l[a]={channel:null,elements:[]}),t=n(t);var s={lastPrice:0,lastDirection:"neutral",channel:a,filterType:"",filterMoment:0,lastType:"",needToBind:!0};t.data("bgquote",s),l[a].elements.push(t),t.bind("bgTick",o),null===l[a].channel&&(l[a].channel=m.subscribe(a,r,i))}},bindDeferred:function(e){var t=e.data("channel");if(t){this.bindElement(e,t);var n=a[t];n&&e.trigger("bgTick",n)}},setFormat:function(e,t){i[e]=t},getFormat:function(e){return i[e]}}});
require.config({shim:{"jquery-audio-api":["jquery","tracking","swfobject"]},map:{"*":{"vendor.asset.jquery/jquery":"jquery","mw.vendor.assets/moment-timezone":"moment-timezone","mw.vendor.assets/moment":"moment","resp.module.nav/header/nav":"mw.noop","vendor.asset.jquery/jquery.ie.cors":"mw.noop"}},paths:{"video-api":window.videoDomain+"/api-video/player/v3/js/video","jquery.audio-api":window.videoDomain+"/api-video/audioplayer/js/audioplayer"}});
define("mw.module.ui",["vendor.asset.bluegrass/bluegrass","bluegrass.quote","dj.responsive.resources/cookieutils","mw.module.identity","mw.module.settings","moment-timezone","vendor.asset.hogan/hogan","jquery","jquery.cookie"],function(e,t,i,n,a,r,s,o){var l,c,u=!!("ontouchstart"in window)||!!("onmsgesturechange"in window),d=o("#media-swatch"),v=function(){var e={},t=d.css("z-index");switch(t){case"1":e.relative="desktop",e.isDesktop=!0;break;case"2":e.relative="tablet-landscape",e.isTabletLandscape=!0;break;case"3":e.relative="tablet-portrait",e.isTabletPortrait=!0,e.latestNewsPulldown=!0;break;case"4":e.relative="phone",e.isPhone=!0,e.latestNewsPulldown=!0;break;default:e.relative="phone",e.isPhone=!0,e.latestNewsPulldown=!0}return e},f=function(){var e=o('<div style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"/></div>');o("body").append(e);var t=o(e).innerWidth(),i=o("div",e).innerWidth();return o(e).remove(),t-i},p=function(e){return e=e.toLowerCase(),e.length>=4&&"open"==e.substring(0,4)?"Open":"pre-market"==e.toLowerCase()?"Pre":"after-market"==e.toLowerCase()?"After":"Closed"},m=function(e){if(e&&e.h.t){({channel:e.h.t,state:p(e.b.c),nextState:p(e.b.x)});o.trigger(o.Event("marketstatechanged"))}},h=function(){if(window.matchMedia){var e=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");return!!(e&&e.matches||window.devicePixelRatio>1)}},g=function(){o(".tabs .tab").on("selectTab",function(){var e=o(this),t=e.parents(".module").find(".page."+e.data("page"));e.siblings(".tab").removeClass("selected"),t.siblings(".page").removeClass("selected"),e.addClass("selected"),t.addClass("selected")}).on("click",function(){o(this).trigger("selectTab")})},b=0,w=0,C=0,T=o("#latest-news"),k=(T[0],T.find(".viewport")),y=T.find("h3"),S=!1,D=!1,x=!1,N=0,z=function(){if(v().isTabletPortrait)return k.outerHeight();var e=y.outerHeight(),t=_.reduce(T.find("li:lt(4)"),function(e,t){return e+o(t).outerHeight()},0),i=o("#market-overview-mobile-placeholder").height();return e+t+i},P=function(){return v().isTabletPortrait?20:50},E=function(){var e=function(){return v().latestNewsPulldown&&!o("#nav-burger").hasClass("fake-hover")&&!o("#site-search").hasClass("active")},t=o(window),i=!1;u&&(t.on("touchstart",function(t){e()&&!i&&(b=t.originalEvent.touches[0].pageY,C=b,N=z())}),t.on("touchmove",function(n){if(e()&&!i){var a=v().relative,r=t.scrollTop(),s=T.height(),l=n.originalEvent.touches[0].pageY;l>C&&0>=r?(n.preventDefault(),n.stopPropagation(),l-C>=P()&&!D&&!S&&(D=!0,i=!0,"phone"===a&&o("#market-overview").css({position:"static",width:"auto"}),o("#site-nav").css({position:"static"}),T.animate({height:N},300,"swing",function(){i=!1,D=!1,S=!0,o("#site-nav").css({position:"static"}),"phone"===a&&o("#market-overview").css({position:"static",width:"auto"})}))):s>0&&(n.preventDefault(),n.stopPropagation(),C-l>=P()&&S&&!x&&(x=!0,i=!0,T.animate({height:"0px"},300,"swing",function(){x=!1,i=!1,S=!1,"phone"===v().relative&&(o("#site-nav").css({position:""}),o("#market-overview").css({position:"",width:""}))}))),l>w&&(w=l),b=l}}),t.on("touchend",function(t){e()&&!i&&(b=0,w=0)}))},I=function(){if(!u)return!1;o("blockquote").find(".share-icons").css("visibility","hidden");var e=o("#moreNews").find(".shareable");e=e.add(o("#latest-news").find(".shareable")),e.find(".shareable-overlay").removeClass("shareable-overlay"),e.find(".share-icons").remove()},M=function(){var e="active",t=function(t,i){var n=t.find(i+"."+e).removeClass(e).next();0===n.length&&(n=t.find(i+":first")),n.addClass(e)};o("div.timer").each(function(){var e,i=o(this),n=parseInt(i.data("timer-interval"))||1e4,a=i.data("timer-selector")||"li";e=setInterval(function(){t(i,a)},n),i.on("play",function(){}).on("pause",function(){clearInterval(e)})})},Y=function(){var e=function(e,t){t>50&&e.find("div.slice").addClass("gt50");var i=3.6*t;e.find(".slice .pie").css({"-moz-transform":"rotate("+i+"deg)","-webkit-transform":"rotate("+i+"deg)","-o-transform":"rotate("+i+"deg)",transform:"rotate("+i+"deg)"})};o("div.pietimer").each(function(){var t=o(this),i="fa-pause";t.hasClass("paused")&&(i="fa-play"),t.html('<div class="slice"><div class="pie"></div><div class="pie fill"></div></div><i class="fa '+i+'"></i>');var n,a,r,s=t.find("i"),l=parseInt(t.data("seconds")),c=function(){var i=(a-(new Date).getTime())/1e3;0>=i?(e(t,100),clearInterval(n),t.trigger("finished")):(r=100-i/l*100,e(t,r))},u=function(e){clearInterval(n),e=e&&99>e?100-e:100,50>e?t.find("div.slice").addClass("gt50"):t.find("div.slice").removeClass("gt50"),a=(new Date).getTime()+1e3*l*(e/100),n=setInterval(c,50)},d=function(){s.removeClass("fa-pause").addClass("fa-play"),clearInterval(n)},v=function(){s.removeClass("fa-play").addClass("fa-pause"),u(r)},f=function(){r=100,v()};t.on("click",function(){s.hasClass("fa-pause")?t.trigger("pause"):s.hasClass("fa-play")&&t.trigger("play")}).on("pause",d).on("play",v).on("restart",f),t.hasClass("paused")||isNaN(l)||u()})},A=o("#content-cutout"),O=function(e){if(o(e).animate({bottom:-o(e).outerHeight()},500,"swing",function(){o(e).remove(),o(".ad--mobile").hasClass("open")&&o(".ad--mobile .ad__close").fadeIn(500)}),o.cookie){var t=e.find(".message").text(),i=t.trim();i=i.substr(0,2)+i.length+i.substr(i.length-2,2);var n=o.cookie("mw_bulletins");n&&n.length?n+="|":n="",n+=i;var a=new Date((new Date).getTime()+36e5);o.cookie("mw_bulletins",n,{path:"/",domain:".marketwatch.com",expires:a})}},U=s.compile(o('script[data-template-id="../view/bulletin"]').text());A.on("click",".bulletin-close",function(){O(o(this).closest(".bulletin"))});var R=function(t){var i={bulletins:[]},n={resources:{content:a.assetPath}},r=e.Utility.convertToExchangeTime(t.b.e);if(r&&t.b.h){var s=r.getTime()-(new Date).getTime();if(s>0){n.Subject=t.b.h,n.bg="bg",t.b.u&&(n.url=t.b.u,n.shareUrl=t.b.u,n.link=!0),i.bulletins.push({Bulletin:n});var l=o(U.render(i)),c=o(".ad--mobile.open");c&&c.length>0?(c.find(".ad__close").hide(),l.css("bottom","70px"),c.after(l),c.css("z-index",16)):A.find(".lame-content-wrapper").prepend(l),l.fadeIn(750);var u=A.find(".bulletin");u.length>=2&&u.each(function(e){return 2>e?!0:void O(this)}),setTimeout(function(){O(l)},s)}}},L=s.compile(o('script[data-template-id="../view/investor_alert"]').text());A.on("click","#investor-alert-close",function(){o("#investor-alert").empty()});var F=function(e){if(e.b.a){var t={alert:{text:e.b.a}},i=H(new Date);t.alert.time=i.format("h:mm A z"),o("#investor-alert").replaceWith(L.render(t))}else o("#investor-alert").empty()},j=function(){o("#back-to-top-button").click(function(e){e.preventDefault(),o("html, body").animate({scrollTop:0},250)}),g(),Y(),M(),E(),I();var n=function(){o("#moreNews .tab.selected").data("page");i.setGroupCookie("FOXTROT","more_news",o("#moreNews .selected").data("page"))};o("#moreNews .pietimer").on("finished",function(){var e=o("#moreNews div.tab.selected").next();0===e.length&&(e=o("#moreNews div.tab:first")),e.trigger("selectTab"),o(this).trigger("restart")}).on("play",function(){i.deleteGroupCookie("FOXTROT","more_news")}).on("pause",function(){n()}),o("#moreNews .tab").on("click",function(){o("#moreNews .pietimer").trigger("restart"),i.deleteGroupCookie("FOXTROT","more_news")}),o("#moreNews .page li a").on("click",function(){n()}),o("#market-overview div.fa-circle").on("click",function(e){e.preventDefault(),o("#market-overview").trigger("pause").find("li").removeClass("active"),o(this).parent().addClass("active")}),c=o("#general-overlay").click(function(e){});var r=!1;o(window).resize(function(){if(r)return!1;r=!0;var e=v().relative;if(l!=e){var t=l;l=e,o.event.trigger({type:"relativeSizeChanged",currentSize:l,oldSize:t})}r=!1}),a.endpoints&&a.endpoints.bluegrass&&a.endpoints.bluegrass.length>0&&e.Runtime.openConnection({to:a.endpoints.bluegrass,useQueryStringForData:!1},function(e,i){"connect"===i&&(t.setup(),e.subscribe("/bulletin",R),e.subscribe("/investoralert",F),e.subscribe("/marketstate/country/us",m))})};r.tz.add({zones:{"America/Chicago":["-5:50:36 - LMT 1883_10_18_12_9_24 -5:50:36","-6 US C%sT 1920 -6","-6 Chicago C%sT 1936_2_1_2 -6","-5 - EST 1936_10_15_2 -5","-6 Chicago C%sT 1942 -6","-6 US C%sT 1946 -6","-6 Chicago C%sT 1967 -6","-6 US C%sT"],"America/New_York":["-4:56:2 - LMT 1883_10_18_12_3_58 -4:56:2","-5 US E%sT 1920 -5","-5 NYC E%sT 1942 -5","-5 US E%sT 1946 -5","-5 NYC E%sT 1967 -5","-5 US E%sT"]},rules:{US:["1918 1919 2 0 8 2 0 1 D","1918 1919 9 0 8 2 0 0 S","1942 1942 1 9 7 2 0 1 W","1945 1945 7 14 7 23 1 1 P","1945 1945 8 30 7 2 0 0 S","1967 2006 9 0 8 2 0 0 S","1967 1973 3 0 8 2 0 1 D","1974 1974 0 6 7 2 0 1 D","1975 1975 1 23 7 2 0 1 D","1976 1986 3 0 8 2 0 1 D","1987 2006 3 1 0 2 0 1 D","2007 9999 2 8 0 2 0 1 D","2007 9999 10 1 0 2 0 0 S"],Chicago:["1920 1920 5 13 7 2 0 1 D","1920 1921 9 0 8 2 0 0 S","1921 1921 2 0 8 2 0 1 D","1922 1966 3 0 8 2 0 1 D","1922 1954 8 0 8 2 0 0 S","1955 1966 9 0 8 2 0 0 S"],NYC:["1920 1920 2 0 8 2 0 1 D","1920 1920 9 0 8 2 0 0 S","1921 1966 3 0 8 2 0 1 D","1921 1954 8 0 8 2 0 0 S","1955 1966 9 0 8 2 0 0 S"]},links:{}}),r.lang("mw",{monthsShort:["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],meridiem:function(e,t,i){return 12>e?i?"a.m.":"A.M.":i?"p.m.":"P.M."}});var q="MMM D, YYYY h:mm a zz",H=function(e,t){t=t||"America/New_York";var i;return i="string"==typeof e&&10===e.indexOf("T")&&e.length<20?r.tz(e,t):r(e).tz(t)},W=function(e,t){var i;if(t=t||q,e){var n=r(e);n.isValid()&&(i=n.format(t).replace("EDT","ET").replace("EST","ET"))}return i};return{init:function(){o(j)},getViewSize:function(){return v()},getRelativeSize:function(){return l||(l=v().relative)},getScrollbarSize:function(){return f()},isRetinaDisplay:function(){return h()},date:{makeTimezoney:H,format:W},isTouchy:u,testBulletin:function(e){var t=(new Date).getTime()+12e4;return e=e||"This is a test.",R({b:{h:e,u:"http://www.marketwatch.com",e:t}})},testInvestorAlert:function(e){return F({b:{a:e?e:""}})}}});
define("mw.module.sticky",["mw.module.ui","jquery"],function(t,i){var e,o,a=t.getViewSize(),s=function(t){var s=t.data("placeholder"),r=t.data("lower-bound"),n=slotMachine.get(t.data("alias")||t.data("name"));if(n&&!n.rendered)return!0;if(!s||s.is(":hidden")||0===t.length)return!0;e=i("#site-nav").outerHeight(!0)+20,o=i(window).scrollTop()+e;var c=t.data("sticky-width");!a.isPhone&&!a.isTabletPortrait&&o>s.offset().top?(o+t.outerHeight(!0)>r.offset().top+r.outerHeight(!1)?(t.data("position","absolute"),t.css({position:"absolute",top:r.outerHeight(!1)-t.outerHeight(!0)})):(t.data("position","fixed"),t.css({position:"fixed",top:e,bottom:""})),c&&t.css({width:c+"px"})):(t.data("position","static"),t.css({position:"static"}),c&&t.css({width:"auto"}))},r=function(t,e){if(!a.isPhone&&!a.isTabletPortrait){var o=i(e?e:this),r=o.closest(".sticky-placeholder"),n=o.closest(".fake-sticky");if(r.length)if(n.length){n.data("placeholder",r),n.data("lower-bound",i("#"+o.data("sticky-lower-bound-id")));for(var c=0,d=n.children(".sticky"),l=0;l<d.length;l++)c+=i(d[l]).outerHeight(!0);r.height(c),s(n)}else o.data("placeholder",r),o.data("lower-bound",i("#"+o.data("sticky-lower-bound-id"))),r.height(o.outerHeight(!0)+(o.data("scroll-padding")||0)),s(o)}},n=function(e){a=t.getViewSize(),a.isPhone||a.isTabletPortrait?i(window).off("scroll",l):i(window).on("scroll",l);for(var o=i(".fake-sticky"),r=0;r<o.length;r++){var n=i(o[r]);c(n,n.closest(".sticky-placeholder")),s(n)}},c=function(t,e){for(var o=0,a=t.children(".sticky"),s=0;s<a.length;s++){var r=i(a[s]);r.is(":visible")&&(o+=r.outerHeight(!0))}e.height(o)},d=function(){s(i(this))};MarketWatch.sticky={stickyRendered:r,positionStickyElement:s};var l=function(){_sticky.trigger("scrollSticky")},h=function(){_sticky=i(".sticky").on("rendered",r);for(var t=0;t<_sticky.length;t++){for(var e=i(_sticky[t]),o=1;t+o<_sticky.length&&e.parent()[0]===i(_sticky[t+o]).parent()[0];)o++;var a=i("<div class='sticky-placeholder'></div>").insertBefore(e);if(o>1){var s=i("<div class='fake-sticky'></div>").appendTo(a);s.on("scrollSticky",d);for(var c=t;t+o>c;c++)s.append(i(_sticky[c]))}else a.attr("id",e.attr("id")+"-placeholder"),a.append(e),e.on("scrollSticky",d);t+=o-1}i(window).scroll(l),i(window).on("relativeSizeChanged",n)};return{init:function(){i(h)}}});
define("mw.module.ad",["lodash","mw.module.ui","jquery"],function(t,e,n){function a(t){return t?t.getSlotElementId():""}function i(t){var e;return"0"===t?e=[]:t&&(e=t.split(",").map(function(t){return t.split("x").map(parseFloat)})),e}function o(t,e){var n=0,a=[[0,0],[760,0],[1024,0],[1260,0]],o=[],s=i(t.getAttribute("data-mobile"));s&&(o.push([a[n],s]),n=o.length);var r=i(t.getAttribute("data-portrait"));r&&(o.push([a[n],r]),n=0===n?2:n+1);var d=i(t.getAttribute("data-landscape"));d&&(o.push([a[n++],d]),n=n?3:n+1);var l=i(t.getAttribute("data-desktop"));return l?o.push([a[n++],l]):o.push([a[n++],e]),o.reverse()}function s(t){w?pbjs.que.push(function(){pbjs.refreshAds(t.map(a))}):googletag.cmd.push(function(){googletag.pubads().clear(t),googletag.pubads().refresh(t)})}function r(){f.length&&s(f)}function d(t){t&&"undefined"!=typeof h[t]&&h[t].length&&(s(h[t]),setTimeout(function(){d(t)},parseInt(t)))}function l(t){t&&"undefined"!=typeof m[t]&&m[t].length&&s(m[t])}function u(e){var a=e.getAttribute("data-site")||"marketwatch.com",s=i(e.getAttribute("data-size"));e.mwad_slot=googletag.defineSlot("/2/"+a+"/"+e.getAttribute("data-zone"),s,e.getAttribute("id")).addService(googletag.pubads());var r=slotMachine.get(e.getAttribute("data-alias")||e.getAttribute("data-name"));r&&(r.slot=e.mwad_slot);var u=o(e,s);if(u.length>1&&(e.mwad_slot.defineSizeMapping(u),f.push(e.mwad_slot)),e.hasAttribute("data-targeting"))for(var c=e.getAttribute("data-targeting").split(";"),g=0;g<c.length;g++)if(c[g]){var p=c[g].split("=");p.length>1&&e.mwad_slot.setTargeting(p[0],p[1])}var b=document.querySelector('meta[name="article.id"]')||document.querySelector('meta[name="video.id"]');if(b&&e.mwad_slot.setTargeting("p",b.getAttribute("content")),"undefined"!=typeof n&&"function"==typeof n.cookie){var w=n.cookie("etsFlag");w&&e.mwad_slot.setTargeting("msrc",decodeURIComponent(w));var v=n.cookie("bkuuid");v&&e.mwad_slot.setTargeting("bkuuid",v)}if("undefined"!=typeof pxSegmentIDs){var y=pxSegmentIDs.split(",");t.isEmpty(t.intersection(y,["999997","999998","999999"]))&&e.mwad_slot.setTargeting("psg",y)}if(e.hasAttribute("data-refresh")&&!A.isPhone&&!A.isTabletPortrait){var T=e.getAttribute("data-refresh");e.getAttribute("data-refresh-once")?(m[T]||(m[T]=[],setTimeout(function(){l(T)},parseInt(T))),m[T].push(e.mwad_slot)):(h[T]||(h[T]=[],setTimeout(function(){d(T)},parseInt(T))),h[T].push(e.mwad_slot))}}function c(t){function e(){a.length>0&&googletag.cmd.push(function(){googletag.pubads().clear(a),googletag.pubads().refresh(a)})}if(t&&t.length){for(var n=[],a=[],i=0;i<t.length;i++){var o=k(t[i]);o&&"undefined"!=typeof o.$element&&o.$element.length&&(n.push(o.$element[0]),"undefined"!=typeof o.$element[0].mwad_slot&&a.push(o.$element[0].mwad_slot))}e()}}var g=!1;"undefined"!=typeof googletag&&googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(t){g=!0})});var p,f=[],h={},m={},b=document.querySelector("html").classList.contains("active-intro"),w="undefined"!=typeof window.prebid_enabled&&window.prebid_enabled&&!b,v=[],y=[],A=e.getViewSize(),T="undefined"!=typeof window.prebidEnabled&&window.prebidEnabled,S={defer:1,reposition:2,inView:4},_=function(t){return t?"ad-"+t.replace(/\s/g,"-").toLowerCase():""},k=function(e){return t.isString(e)?slotMachine.get(e):e},P=function(t){var e=_(t),a=n("#"+e);a.length>0&&!a.data("gotGot")&&(a.data("gotGot",!0),googletag.cmd.push(function(){u(a[0]),googletag.display(e),T&&g&&googletag.pubads().refresh([a[0].mwad_slot])}))},I=function(t,e){var n=k(t);n&&(e&&C(n,e),M(n)||P(n.name))},C=function(t,e){var n=k(t);if(n&&n.conditions&S[e])switch(n.conditions^=S[e],e){case"inView":y=y.not(n.$element)}},M=function(t){var e=k(t);return e?e.conditions>0:!1},E=function(e){function n(){googletag.cmd.push(function(){googletag.pubads().refresh([a.slot])})}var a=t.isString(e)?slotMachine.get(e):e;return a&&a.slot&&n(),e},V=function(t,e,n){t.setTargeting(e,n)},j=function(e,n){var a=t.isString(e)?slotMachine.get(e):e;if(a&&a.slot){var i=function(t){V(a.slot,t[0],t[1])};t.each(n,i)}return e},$=function(t){var e=slotMachine.get(t);e&&e.slot&&(clearTimeout(e.refreshTimeout),googletag.cmd.push(function(){googletag.pubads().clear([e.slot])}))},z=function(){n(this).is(":visible")&&n(window).scrollTop()+n(window).height()>=n(this).offset().top&&I(n(this).data("alias")||n(this).data("name"),"inView")},q=function(t){A=e.getViewSize();var a=n("#ad-display-ad");p.isSlideshow?(A.isTabletPortrait?(n("#right-rail").prepend(a),a.data("position","static"),a.css({position:"static"})):A.isPhone||(n(a.hasClass("sticky")?"#"+a.attr("id")+"-placeholder":"#brass-rail").prepend(a),a.hasClass("sticky")&&a.trigger("scrollSticky")),I("Display Ad","reposition")):(0===a.parent("#article-body").length&&(A.isPhone||A.isTabletPortrait)?(n("#article-body p").length>2?n("#article-body p:nth-of-type(2)").after(a):n("#article-body p:last-child").after(a),a.hasClass("sticky")&&(a.data("position","static"),a.css({position:"static"}))):1!==a.parent("#article-body").length||A.isPhone||A.isTabletPortrait||(n(a.hasClass("sticky")?"#"+a.attr("id")+"-placeholder":"#brass-rail").prepend(a),a.hasClass("sticky")&&a.trigger("scrollSticky")),I("Display Ad","reposition")),A.isPhone||A.isTabletPortrait?(n(".container--bannerAd").hide(),n("#masthead").hide()):(n(".container--bannerAd").show(),I("Banner","defer")),t&&r()},D=function(){return{isSlideshow:n("body").hasClass("slideshow")}},x=function(){y.trigger("scrollInView")},B=function(){if(p=D(),n(".ad").each(function(){var t=n(this);slotMachine.add(t.data("alias")||t.data("name"),null,t.attr("id"));var e=k(t.data("alias")||t.data("name"));if(t.data("duration")){var a=parseInt(t.data("duration"));1e3>a&&(a=1e3*a),setTimeout(function(){t.closest(".timed-container").fadeOut()},a)}e&&(e.name=t.data("alias")||t.data("name"),e.$element=t,v.push(e),e.conditions=t.data("conditions"),0===e.conditions&&P(e.name))}),y=n(".in-view").on("scrollInView",z),n(window).scroll(x),setTimeout(x,100),n(window).on("relativeSizeChanged",q),q(),A.isPhone||A.isTabletPortrait||(I("Banner","defer"),I("Masthead","defer")),T){var t=document.createElement("script");t.async=!0,t.type="text/javascript";var e="https:"==document.location.protocol;t.src=(e?"https:":"http:")+"//mw1.wsj.net/MW5/content/business/js/pb-10.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)}};return{init:function(){n(B)},getAll:function(){return v},display:function(t){return P(t)},maybeDisplay:I,refresh:function(t){return E(t)},refreshGroup:function(t){return c(t)},addKeyValues:function(t,e){return j(t,e)},clear:function(t){return $(t)}}});
define("mw.module.ad.inactive",["mw.module.ui","mw.module.ad","jquery"],function(n,e,i){var t,o=[],a=function(){return document.hasFocus&&document.hasFocus()},u=function(){d()},c=function(){_inactiveStart=Date.now()},r=function(){i(window).off("mouseenter",u),i(window).off("mouseleave",c),d()},w=function(){_inactiveStart=Date.now(),i(window).on("mouseenter",u),i(window).on("mouseleave",c)},d=function(){if(t.isEnabled&&null!==_inactiveStart){var n=Date.now()-_inactiveStart;n>t.inactiveTime&&f(),_inactiveStart=null}},f=function(){var n=[];o.each(function(){var t=i(this).data("name");n.push(t),e.addKeyValues(t,[["activebrowser","yes"]])}),e.refreshGroup(n)},s=function(){t=window.__mw_inactiveSettings,a()||w(),i(window).blur(w),i(window).focus(r),o=i(".ad.inactive")};return{init:function(){i(s)}}});
define("mw.module.ad.tradingcenter",["mw.module.ad","jquery"],function(n,e){var a,i=function(i){a.each(function(){n.maybeDisplay(e(this).data("name"),"defer")})},t=function(){var t=e("#trading-center");a=t.find(".ad"),e(window).on("relativeSizeChanged",i),a.each(function(){n.maybeDisplay(e(this).data("name"),"defer")})};return{init:function(){e(t)}}});
define("mw.module.news",["mw.module.ui","moment-timezone","jquery"],function(e,a,t){var r="h:mm A zz",n="M/DD",i=function(e){var a="/story";return e.ThirdPartyUrl?a=e.ThirdPartyUrl:e.ExternalLink?a=e.ExternalLink:e.SeoHeadlineFragment?a+=e.SeoHeadlineFragment:e.DocumentSEOUri?a+=e.DocumentSEOUri.replace("http://system.marketwatch.com/newscloud/seo",""):e.DocGuid?a+="/guid/"+e.DocGuid:e.seopath&&(a+="/"+e.seopath),a},o=function(a){var t={},n=a.b,i=a.h;return n.nmd&&n.nmd.tgs&&n.nmd.tgs.length>0&&_.forEach(n.nmd.tgs,function(e){n[e]=!0}),n.Resurfaced?t.Resurfaced=!0:n.cn?t.Label="Corrected":n.b?t.Label="Breaking":n.Revised?t.Label="Updated":n.Opinion&&(t.Label="Opinion"),t.Label||("Moneyish.com"===n.pb?t.Label="Moneyish":"MW PREMIUM"===n.av&&(t.Label="Premium")),t.FormattedTimestamp=e.date.format(e.date.makeTimezoney(n.z),r),t.Headline=n.h,n.tpu?(t.Url=n.tpu,t.ShareUrl=n.tpu):(t.Url="/story"+n.seo,t.ShareUrl="http://www.marketwatch.com"+t.Url),t.Sequence=i.s,t.MessageNumber=i.n,t},m=function(t){if(t&&t.Headline){t.NewsMetaData&&t.NewsMetaData.Tags&&t.NewsMetaData.Tags.length>0&&_.forEach(t.NewsMetaData.Tags,function(e){t[e]=!0}),t.Correction?t.Label="Corrected":t.Revised?t.Label="Updated":t.Breaking?t.Label="Breaking":t.Opinion&&(t.Label="Opinion"),t.DocTypeId||t.DocumentTypeUri&&(t.DocTypeId=t.DocumentTypeUri.replace(/http:\/\/system.marketwatch.com\/newscloud\/doctype\/|{|}/gi,"")),t.Label||(497==t.DocTypeId?t.Label="Moneyish":53==t.DocTypeId&&(t.Label="Premium")),t.isRealTimeHeadline=90===t.DocTypeId,t.DocGuid||t.DocumentGuidUri&&(t.DocGuid=t.DocumentGuidUri.replace(/http:\/\/system.marketwatch.com\/newscloud\/docguid\/|{|}/gi,"").toLowerCase()),t.isRealTimeHeadline||(t.Url=i(t),t.ExternalLink||t.ThirdPartyUrl?t.ShareUrl=t.ExternalLink||t.ThirdPartyUrl:t.ShareUrl="http://www.marketwatch.com"+t.Url);var o=e.date.makeTimezoney(t.TimestampUtc||t.CreateTimestamp.Value),m=r,d=a.tz("America/New_York");return(d.date()>o.date()||d.month()>o.month()||d.year()>o.year())&&(m=n),t.FormattedTimestamp=e.date.format(o,m),t}};return{normalizeBgHeadline:o,normalizeHeadline:m}});
define("mw.module.chart",["vendor.asset.michelangelo/michelangelo","vendor.asset.michelangelo/michelangelo-legacy","mw.module.ui","numeral","vendor.asset.jquery/jquery"],function(e,t,o,r,i){e.ambience("MuxPublic","cecc4267a0194af89ca343805a3e57af");var l={highchartsStyles:{colors:["rgb(136, 184, 227)","rgb(100, 131, 131)","rgb(218, 178, 108)","rgb(184, 192, 192)","rgb(87, 158, 137)"],chart:{backgroundColor:"#fff",plotBorderWidth:1,plotBorderColor:"rgb(187, 187, 187)",reflow:!0,zoomType:null,pinchType:null},legend:{borderWidth:0,labelFormatter:function(){return'<span class="chart-legend-item" style="color: '+this.color+'">'+this.name+"</span>"},useHTML:!0},xAxis:{dateTimeLabelFormats:{second:"%l:%M:%S",minute:"%l:%M",hour:"%l:%M"},gridLineWidth:1,gridLineColor:"rgb(235, 235, 235)",type:"datetime",tickLength:5,tickPosition:"inside",tickColor:"rgb(145, 145, 145)",labels:{style:{color:"rgb(102, 102, 102)",align:"left",font:"bold 12px/25px Roboto"}},title:{enabled:!0}},yAxis:{title:{style:{color:"rgb(85, 85, 85)",font:"bold 14px/25px Roboto"}},startOnTick:!0,endOnTick:!0,showFirstLabel:!1,showLastLabel:!1,minorGridLineColor:"rgba(201,201,201,1.0)",gridLineColor:"rgba(201, 201, 201, 1.0)",labels:{style:{color:"rgb(85, 85, 85)",font:"bold 14px/25px Roboto",backgroundColor:"rgba(255, 255, 255, 0.9)",padding:"0 2px"},useHTML:!0,y:0}},tooltip:{enabled:!0,crosshairs:{dashStyle:"ShortDot"},backgroundColor:"rgb(255, 255, 255)",shape:"square",borderColor:"rgb(204, 204, 204)",borderWidth:1,shadow:!1,style:{fontSize:"12px",lineHeight:"17px",fontFamily:"Open Sans"},followPointer:!1,followTouchMove:!1},plotOptions:{area:{tooltip:{xDateFormat:"%e %b, %Y"}},line:{tooltip:{xDateFormat:"%m/%e/%Y"},marker:{symbol:"circle",radius:3,lineColor:"rgba(204, 204, 204, 0.5)",lineWidth:4},connectNulls:!0}}},mikeStyle:{yAxisLabelsOutside:!0,addYAxisUnits:!0}},n=function(e){this._options=e||{},this._model={};var t=this;i(function(){if(t._model.$element=i(t._options.selector),t._model.$element.length){var e=t._options.chartId||t._model.$element.data("chart-id");if(e)return void t._drawSavedChart(e);var o=t._options.tickers||t._model.$element.data("tickers");if(o)return void t._drawTickerChart(o.split(","));var r=t._options.thunderball||t._model.$element.data("thunderball");if(r)return void t._drawThunderballChart(r)}})};return n.prototype._drawSavedChart=function(t){var o=this;this._model.$element.presentation({}).load(t).then(function(t){o._options.viewModel&&i.extend(t.def(),o._options.viewModel),t.def().wantPriorClose=!0,t.style(i.extend(!0,{},l,o._options.style)).size({width:"fill",height:"auto"}).tooltipFormatter(new e.ToolTipFormatter({showDateRange:!1})).render()})},n.prototype._drawTickerChart=function(t){var o=new e.ChartDefinition;o.wantPriorClose=!0;for(var r=0;r<t.length;r++){var n=new e.TickerSeries;n.setTicker(t[r]),n.chartType="line",t.length>1&&(n.position=e.Position.overlay,n.desiredDataPoint="PercentChange"),o.addSeries(n)}this._options.viewModel&&i.extend(o,this._options.viewModel),this._model.$element.presentation({}).def(o).style(i.extend(!0,{},l,this._options.style)).size({width:"fill",height:"auto"}).tooltipFormatter(new e.ToolTipFormatter).render()},n.prototype._drawThunderballChart=function(o){var r=t.Thunderball.parse(o);r&&(this._options.viewModel&&i.extend(r.def,this._options.viewModel),r.def.wantPriorClose=!0,this._model.$element.presentation({}).def(r.def).style(i.extend(!0,{},l,this._options.style)).size({width:"fill",height:"auto"}).tooltipFormatter(new e.ToolTipFormatter).render())},n});
define("mw.module.social",["mw.module.ui","jquery"],function(e,t){var n=location.protocol+"//"+location.host,o={popupParams:"location=yes,resizable=yes,scrollbars=yes,status=yes",facebook:{share:{url:"https://www.facebook.com/dialog/share?app_id=283204329838&display=popup&href=",popup:{width:"520",height:"332"}}},twitter:{share:{url:"/story/twittershare",popup:{width:"550",height:"420"}}},googlePlus:{share:{url:"https://plus.google.com/share?url=",popup:{width:"500px",height:"600px"}}},flipboard:{share:{url:"https://share.flipboard.com/bookmarklet/popout?v=2&utm_campaign=widgets&utm_medium=web&utm_source=flipit",popup:{width:"550",height:"600"}}},whatsApp:{share:{url:"whatsapp://send"},store:{url:"https://itunes.apple.com/us/app/whatsapp-messenger/id310633997?mt=8&uo=4"}}},r={},a=function(){var e=t("#syndication-link");return e.length?e.attr("href"):t("#canonical-link").attr("href")},i=function(e){return t.getJSON("http://cdn.api.twitter.com/1/urls/count.json?url="+e+"&callback=?")},s=function(e){return t.getJSON("http://graph.facebook.com/?id="+e)},c=function(e,t){var n="",o=e.data("share-modprefix");return o&&(n="?mod="+o+t),n},u=function(e){var t=e.data("share-url")||a();t=encodeURIComponent(t+c(e,"twitter"));var n=o.twitter.share.url+"?shareUrl="+t;e.data("share-text")&&(n+="&text="+encodeURIComponent(e.data("share-text"))),f(n,o.twitter)},l=function(e){var t=e.data("share-url")||a();t=encodeURIComponent(t+c(e,"facebook"));var r=o.facebook.share.url+t+"&redirect_uri="+n+"/story/socialredirect";f(r,o.facebook)},d=function(e){var t=e.data("share-url")||a(),n=c(e,"flipboard").replace(/^\?/,"&"),r=o.flipboard.share.url+n+"&url="+encodeURIComponent(t)+"&title="+encodeURIComponent(document.title)+"&t="+(new Date).getTime()+"&utm_content="+encodeURIComponent(window.location.hostname);f(r,o.flipboard)},h=function(e){var t=e.data("share-url")||a();t+=c(e,"google");var n=o.googlePlus.share.url+t;f(n,o.googlePlus)},p=function(){t("body").append('<iframe class="invisible" src="'+o.whatsApp.share.url+"?text="+encodeURIComponent(t("#article-headline").text().trim())+" "+a()+'"></iframe>').append('<iframe class="invisible" src="'+o.whatsApp.store.url+'"></iframe>')},f=function(e,t){var n=void 0!==window.screenLeft?window.screenLeft:screen.left,r=void 0!==window.screenTop?window.screenTop:screen.top,a=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,i=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,s=a/2-t.share.popup.width/2+n,c=i/2-t.share.popup.height/2+r;window.open(e,"",o.popupParams+",innerWidth="+t.share.popup.width+",innerHeight="+t.share.popup.height+",left="+s+",top="+c)},m=function(e){return e=e||a(),t.when(s(e),i(e)).then(function(e,t){return r.facebook=e[0].shares,r.twitter=t[0].count,r.total=r.facebook+r.twitter,r})},w=function(n){n.each(function(n,o){var r=t(o);if(!e.isTouchy||!r.is("li")){if(r.data("share-hover")){var a=r.find(".share-icons");r.mouseenter(function(){a.hasClass("dark-matter")?a.removeClass("dark-matter").addClass("un-dark-matter"):a.show()}).mouseleave(function(){a.hasClass("un-dark-matter")?a.addClass("dark-matter").removeClass("un-dark-matter"):a.hide()})}r.find(".facebook").click(function(){l(r)}),r.find(".twitter").click(function(){u(r)}),r.find(".google-plus").click(function(){h(r)}),r.find(".flipboard").click(function(){d(r)}),r.find(".whatsapp").click(function(){p()})}})},g=function(){w(t(".shareable"))};return{init:function(){t(g)},getShareCounts:function(e){return m(e)},registerShareable:function(e){},bindShareables:w}});
define("mw.module.dayparting",["vendor.asset.bluegrass/bluegrass","mw.vendor.assets/moment-timezone","vendor.asset.jquery/jquery"],function(n,e,t){var a={},r=function(n){if(0>=n)return"";var e=Math.floor(n/1e3),t=Math.floor(e/60),a=Math.floor(t/60);return e%=60,t%=60,a%=60,(10>a?"0"+a:a)+":"+(10>t?"0"+t:t)+":"+(10>e?"0"+e:e)},i=function(n){if(a[n]&&a[n].moment&&a[n].countdownBegin){var e=(new Date).getTime(),o=a[n].moment-e,d=a[n].moment-a[n].countdownBegin,u=d-e,m=Math.min(u,15e3);if(0===a[n].countdownBegin||0>=u){if(t("#countdown").text(r(o)),0>o)return void t("#dayparting-banner").slideUp(500);m=850}setTimeout(function(){i(n)},m)}},o=function(){if(t("#dayparting-banner").length){a.banner={};var n=t("#dayparting-banner").data("basetime"),e=(new Date).getTime()-n;a.banner.countdownBegin=t("#dayparting-banner").data("cdend")-t("#dayparting-banner").data("cdbegin"),a.banner.moment=t("#dayparting-banner").data("cdend")+e,setTimeout(function(){i("banner")},250)}};return{init:function(){t(o)}}});
define("mw.module.latestnews",["vendor.asset.bluegrass/bluegrass","vendor.asset.hogan/hogan","mw.module.social","mw.module.ui","mw.module.ad","mw.module.settings","mw.module.news","lodash","mw.vendor.assets/moment-timezone","vendor.asset.jquery/jquery"],function(e,n,t,a,s,i,o,r,l,d){var u,c,m,f=!1,h=23,p=!1,v=function(e){if(f){var n=c.scrollTop()+e*h;c[0].scrollHeight-n<125&&w(),c.stop().animate({scrollTop:n},{duration:150,easing:"linear",complete:function(){v(e)}})}},w=function(){if(!p){p=!0;var e=c.find("li:last");d.ajax({url:i.endpoints.mux+"/api/whiterabbit/mw/v1/headline",data:{channel:"/news/latest",count:20,sequence:e.data("sequence"),lastMessageNumber:e.data("number")}}).done(function(e){e&&e.length>0&&(d.each(e,function(e,n){c.append(g(o.normalizeHeadline(n)))}),p=!1)})}},b=function(){u.find(".scroll-up, .scroll-down").on("mousedown touchstart",function(){d(this).addClass("hover");var e=1;d(this).hasClass("scroll-up")&&(e=-1),f=!0,v(e)}).on("mouseup mouseleave click touchend",function(){d(this).removeClass("hover"),f=!1,c.stop()}).on("mouseenter",function(){d(this).addClass("hover")})},g=function(e){x(e);var n=d(m.render(e));return t.bindShareables(n),n},q=function(e){if("delete"===e.b.at)return void c.find('li[data-sequence="'+e.h.s+'"][data-number="'+e.h.n+'"]').remove();var n=o.normalizeBgHeadline(e);if("update"===e.b.at||n.Resurfaced){var t=c.find('li[data-sequence="'+e.h.s+'"][data-number="'+e.h.n+'"]');n.Resurfaced&&(t=c.find('li a[href*="'+n.Url+'"]').parents("li")),t&&t.length>0&&!n.Resurfaced?t.replaceWith(g(n)):(c.prepend(g(n)),t.length>0&&t.remove())}else"insert"!==e.b.at||n.Resurfaced||c.prepend(g(n))},x=function(e){var n="default";if(0===window.location.pathname.indexOf("/story")&&(n="story"),0===window.location.pathname.indexOf("/video")&&(n="video"),e&&e.Url){var t;t=e.Url&&e.Url.indexOf("?")<0?"?":"&",e.Url=e.Url+t+"mod=MW_"+n+"_latest_news"}},C=function(){m=n.compile(d('script[data-template-id="../view/partials/_latest_news"]').text()),u=d("#latest-news").mouseenter(b),c=u.find("ul.headlines"),d(window).on("relativeSizeChanged",function(e){var n=a.getViewSize().relative,t={height:0};"desktop"!==n&&"tablet-landscape"!==n||(t={height:"auto"}),u.css(t)}),i.endpoints&&i.endpoints.bluegrass&&i.endpoints.bluegrass.length>0&&e.Runtime.openConnection({to:i.endpoints.bluegrass,useQueryStringForData:!1},function(e,n){if("connect"===n){var t=c.find("li:first");e.subscribe("/news/latest",q,{sequence:t.data("sequence"),number:t.data("number")})}})};return{init:function(){d(C)}}});
define("mw.module.navigation",["vendor.asset.hogan/hogan","mw.vendor.assets/moment-timezone","mw.module.ui","mw.module.ad","mw.module.settings","mw.module.news","mw.module.tracking","vendor.asset.jquery/jquery"],function(e,t,o,a,n,i,s,r){var d,l,f,c,h,u,v,m,p,w,g,b,T,k,C={},A=500,P=500,y=!1,x=function(e){T=r(window).scrollTop(),D()},R=function(){return T>r("#site-nav-placeholder").offset().top},j=function(){return T>r("#share-bar").offset().top-r("#site-nav").outerHeight()+40},D=function(){R()?(S(),z(j()?!0:!1)):(L(),z(!1,!0)),ae()},z=function(e,t){var o=r("#share-tools-fixed");if(!y){var a=r("#share-bar").clone(!0);a.prop("id","share-bar-fixed");var n=r("#article-tools").clone();r("#share-tools-content").append(a).append(n),y=!0}var i=o.hasClass("animating"),s="transitionend webkitTransitionEnd otransitionend MSTransitionEnd";if(!(i&&e||!i&&!e)){if(e){var d=r("#site-nav").outerHeight();o.css({visibility:"visible"}).addClass("animating visible").css({webkitTransform:"translate3d(0, "+d+"px, 0)",MozTransform:"translate(0, "+d+"px)",msTransform:"translate(0, "+d+"px)",OTransform:"translate(0, "+d+"px)",transform:"translate(0, "+d+"px)"})}else t&&o.css({visibility:"hidden"}),o.removeClass("visible").css({webkitTransform:"translate3d(0, -100%, 0)",MozTransform:"translate(0, -100%)",msTransform:"translate(0, -100%)",OTransform:"translate(0, -100%)",transform:"translate(0, -100%)"});r("#share-tools-fixed").on(s,function(){r("#share-tools-fixed").off(s),o.hasClass("visible")||r("#share-tools-fixed").removeClass("animating")})}},L=function(){d&&(l.removeClass("fixed").css({position:""}),d=!1,C.isPhone||r("#site-identity").prepend(r("#site-logo")),C.isDesktop||C.isTabletLandscape?(f.off(m,F).off(w,U),f.add(f.find(".fake-hover")).removeClass("fake-hover"),b=!1,r("#market-overview-placeholder").append(r("#market-overview"))):f.on(m,F).on(w,U))},S=function(){d||(C.isPhone||(l.addClass("fixed").css({position:""}),f.after(r("#site-logo")),d=!0),f.on(m,F).on(w,U),(C.isDesktop||C.isTabletLandscape)&&(f.removeClass("fake-hover").find(".fake-hover").removeClass("fake-hover"),b=!1,r("#site-search-button").before(r("#market-overview"))))},G=function(e){var t=C;C=o.getViewSize(),f.add(c).removeClass("fake-hover"),b=!1,ae(),(t.isTabletPortrait||t.isPhone)&&(r("body").css({marginLeft:0,width:""}).removeClass("freeze"),l.css({top:""}),r("#site-identity").prepend(r("#site-share"))),D(),I(),C.isPhone?O():C.isTabletPortrait?E():C.isTabletLandscape?M():C.isDesktop&&q()},I=function(){var e=r("#market-overview-placeholder");return C.isPhone?void B():void(e.length>0&&(!C.isPhone&&(C.isTabletPortrait||r(window).scrollTop()>r("#site-nav-placeholder").offset().top)?H():(B(),e.css({width:"auto",height:"auto"}))))},H=function(){r("#site-search-button").before(r("#market-overview"))},B=function(){C.isPhone?r("#market-overview-mobile-placeholder").append(r("#market-overview")):r("#market-overview-placeholder").append(r("#market-overview"))},F=function(e){C.isPhone||C.isTabletPortrait?ee(e):Z(e)},U=function(e){C.isPhone||C.isTabletPortrait?te(e):$(e)},O=function(){d=!0,f.after(r("#site-logo")).find(".nav-items > .close").after(r("#site-share")),f.find(".nav-items").height(r(window).height()),f.off("mouseenter",F).off("mouseleave",U),c.find(".nav-dropdown .close").click(Y).show()},E=function(){f.find(".nav-items").height(r(window).height()),f.off("mouseenter",F).off("mouseleave",U),c.find(".nav-dropdown .close").click(Y).show()},M=function(){f.find(".nav-items").height(""),d?f.after(r("#site-logo")):r("#site-identity").prepend(r("#site-logo")),f.on("mouseenter",F).on("mouseleave",U),o.isTouchy?c.find(".nav-dropdown .close").show():c.find(".nav-dropdown .close").hide()},q=function(){d?f.after(r("#site-logo")):r("#site-identity").prepend(r("#site-logo")),f.find(".nav-items").height(""),f.on("mouseenter",F).on("mouseleave",U),o.isTouchy?c.find(".nav-dropdown .close").show():c.find(".nav-dropdown .close").hide()},V=function(e){var t,o=r(this);if(t=C.isPhone?o.hasClass("fake-hover")||!o.hasClass("with-child"):o.hasClass("fake-hover")||!(o.data("channel")||o.data("callout")||o.data("deltoro")),!t)if(e.preventDefault(),e.stopImmediatePropagation(),clearTimeout(p),p=setTimeout(function(){if(o.siblings().removeClass("fake-hover"),o.addClass("fake-hover"),!C.isPhone){var e=o.find(".ad");e.length>0&&(e.data("gotGot")?a.refreshGroup([e.data("alias")]):a.display(e.data("alias")))}},A),o.data("callout")&&!o.data("newsFetched"))o.data("newsFetched",!0),X(o.data("callout")).done(function(e){N(o,e)});else if(o.data("channel")&&!o.data("newsFetched")){o.data("newsFetched",!0);var n=o.data("news-viewer")?12:4;K(o.data("channel"),n).done(function(e){N(o,e,n)})}else o.data("deltoro")&&!o.data("newsFetched")&&(o.data("newsFetched",!0),W(o.data("deltoro")).done(function(e){N(o,e)}))},N=function(e,t,o){t&&t.length>(o||4)&&(t=t.slice(0,o||4)),t=_.map(t,i.normalizeHeadline),e.find(".articles").html((e.data("news-viewer")?v:u).render({headlines:t})),e.data("news-viewer")&&e.find(".articles .trackable").each(function(e,t){s.setupTracking(r(t))})},J=function(e){for(var t="",o=0;o<e.length;o++)e[o]&&e[o].Abstract&&e[o].Abstract.ABSTRACT&&(e[o].Abstract.ABSTRACT["#text"]?e[o].Abstract=oe(e[o].Abstract.ABSTRACT["#text"]):e[o].Abstract.ABSTRACT.PARAGRAPH&&(t=e[o].Abstract.ABSTRACT.PARAGRAPH["#text"]||e[o].Abstract.ABSTRACT.PARAGRAPH,t&&(t instanceof Array&&(t=t.join(" ")),e[o].Abstract=oe(t))));return e},K=function(e,t){return r.ajax({url:n.endpoints.mux+"/api/whiterabbit/mw/v1/headline",data:{channel:e,count:t||4}}).done(function(e){for(var t=0;t<e.length;t++)e[t].Abstract=oe(e[t].Abstract);return e})},Q=function(e){return r.isArray(e)||(e=[]),r.ajax({url:n.endpoints.mux+"/api/slinger/headlines/110/10",type:"GET",dataType:"json",data:{guids:e.join("!,!"),version:3}})},W=function(e){var t;switch(e){case"topnews":t="/marketwatchsite/topnews"}if(t)return r.ajax({url:n.endpoints.delToro+t,dataType:"json"}).then(function(e){var t=[];if(e&&e.length)for(var o=0;o<e.length;o++)t.push(e[o].guid);return Q(t).then(function(t){if(t&&t.length)for(var o=0;o<t.length;o++){var a=r.grep(e,function(e){return e.guid&&t[o].DocumentGuidUri&&-1!==t[o].DocumentGuidUri.toLowerCase().indexOf(e.guid.toLowerCase())});a.length&&a[0].headline&&(t[o].Headline=a[0].headline)}return t}).done(J)})},X=function(e){return r.ajax({url:n.endpoints.mux+"/api/slinger/callout/",data:{calloutNames:e,version:3},dataType:"json"}).then(function(e){var t=[];if(e&&e.length){for(var o=e[0].CalloutItem,a=0;a<o.length;a++)o[a]&&o[a].DocumentUri instanceof Array&&o[a].DocumentUri.length>0&&t.push(o[a].DocumentUri[0].substring(o[a].DocumentUri[0].lastIndexOf("/")+1));return Q(t)}}).done(J)},Y=function(e){var t=r(this);e.stopImmediatePropagation(),clearTimeout(g),g=setTimeout(function(){t?t.hasClass("close")?t.closest(".nav-item").removeClass("fake-hover"):t.removeClass("fake-hover"):c.removeClass("fake-hover")},P)},Z=function(e){b||(e.stopImmediatePropagation(),f.addClass("fake-hover"),b=!0),o.isTouchy&&r(window).one("click",U)},$=function(e){b&&(e.stopImmediatePropagation(),f.removeClass("fake-hover"),b=!1,c.removeClass("fake-hover"))},ee=function(e){b||(e.stopImmediatePropagation(),k=r(window).scrollTop(),r("body").css({top:-1*k}).addClass("freeze"),f.addClass("fake-hover"),l.css({top:T}),C.isPhone?(h.css({position:"absolute",top:l.css("top")}),r("body").width(r("body").width()).animate({marginLeft:"90%"})):r("body").width(r("body").width()).animate({marginLeft:235}),b=!0,r(window).one("click",U))},te=function(e){b&&(e.stopImmediatePropagation(),c.removeClass("fake-hover"),r("body").animate({marginLeft:0},function(){l.css({top:0}),C.isPhone&&h.css({position:"",top:""}),r("body").removeClass("freeze"),r(window).scrollTop(k),f.removeClass("fake-hover")}).width("100%"),b=!1)},oe=function(e){var t=200;if(e=e.replace(/<(.|\n)*?>/g,""),e.length>=t){for(var o,a=t>3?t-3:0,n=!1;a>0;)if(o=e.charCodeAt(a),n||o>=48&&57>=o||o>=65&&90>=o||o>=97&&122>=o){if(n&&(41===o||o>=48&&57>=o||o>=65&&90>=o||o>=97&&122>=o)){a++;break}a--}else n=!0,a--;e=e.substring(0,a);for(var i=0;e.length<t&&3>i;i++)e+="."}return e},ae=function(){f.off(m,F).off(w,U),c.off(m,V).off(w,Y),l.off(w,Y),o.isTouchy||C.isPhone||C.isTabletPortrait?(m="click",A=0,w="click",P=0):(m="mouseenter",w="mouseleave"),f.on(m,F).on(w,U),c.on(m,V),d?l.on(w,Y):c.on(w,Y)},ne=function(){l=r("#site-nav"),f=r("#nav-burger"),c=f.find(".nav-item"),h=r("#market-overview"),C=o.getViewSize(),C.isPhone&&O(),C.isTabletPortrait&&E(),C.isTabletLandscape&&M(),C.isDesktop&&q(),T=r(window).scrollTop(),D(),I(),u=e.compile(r('script[data-template-id="../view/partials/_nav_news"]').text()),v=e.compile(r('script[data-template-id="../view/partials/_nav_newsviewer"]').text()),ae(),(o.isTouchy||C.isPhone||C.isTabletPortrait)&&c.find(".nav-dropdown .close").click(Y).show(),r(window).scroll(x).on("relativeSizeChanged",G)};return{init:function(){r(ne)}}});
define("mw.module.quote",["mw.module.settings","vendor.asset.jquery/jquery"],function(e,t){function n(e){e.Matches&&e.Matches[0]&&(this._instrument=e.Matches[0])}var o="cecc4267a0194af89ca343805a3e57af",i={quoteByDialect:"/api/dylan/quotes/v2/comp/quoteByDialect"},a=function(e){return{ticker:e.Instrument.Ticker,type:"stock",countryCode:e.Instrument.Exchange.CountryCode,isoCode:e.Instrument.Exchange.IsoCode}},s=function(n,a,s){a.ckey=o.substring(0,10),a.EntitlementToken=o,t.ajax({url:e.endpoints.mux+i[n],data:a,dataType:"json"}).done(s)},c=function(a,s,c){s.ckey=o.substring(0,10),s.EntitlementToken=o,s.accept="application/json",t.ajax({url:e.endpoints.mux+i[a],data:s}).done(function(e){for(var t=[],o=0;o<e.InstrumentResponses.length;o++)t.push(new n(e.InstrumentResponses[o]));c(t)})},u=function(e){if(e&&e.ticker){var t="/investing/"+(e.type.toLowerCase()||"stock")+"/"+e.ticker.toUpperCase();if(e.countryCode){var n=e.countryCode.toUpperCase();/US/i.test(n)||(t+="?countrycode="+n),("XE"===n||"IN"===n||"DE"===n)&&e.isoCode&&e.isoCode.length&&(t+="&iso="+e.isoCode.toUpperCase())}return t}};return n.prototype.link=function(){return u(a(this._instrument))},{getQuoteByDialect:function(e,t){var n={id:e.symbols.join(","),dialect:e.dialect};e.needed&&(n.needed=e.needed.join("|")),e.matchCount&&(n.MaxInstrumentMatches=e.matchCount),s("quoteByDialect",n,t)},getQuoteByDialectFancily:function(e,t){var n={id:e.symbols.join(","),dialect:e.dialect};e.needed&&(n.needed=e.needed.join("|")),e.matchCount&&(n.MaxInstrumentMatches=e.matchCount),c("quoteByDialect",n,t)},link:function(e){return u(a(e))},dialect:{charting:"charting"},needed:{compositeTrading:"CompositeTrading",bluegrassChannels:"BluegrassChannels"}}});
function jsonToQueryString(e){return"?"+Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}var getWrappedPromise=function(){var e={},t=new Promise(function(t,n){e.resolve=t,e.reject=n});return e.then=t.then.bind(t),e["catch"]=t["catch"].bind(t),e.promise=t,e},getWrappedFetch=function(){var e=getWrappedPromise(),t=Array.prototype.slice.call(arguments);return fetch.apply(null,t).then(function(t){e.resolve(t)},function(t){e.reject(t)})["catch"](function(t){e["catch"](t)}),e},fetchJSON=function(e){e.data&&(e.url=e.url+jsonToQueryString(e.data));var t={method:"get",headers:{Accept:"application/json"}},n=getWrappedFetch(e.cacheBusting?e.url+(e.url.indexOf("?")>-1?"&":"?")+(new Date).getTime():e.url,t),r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},1e3);return n.promise.then(function(e){return clearTimeout(r),e}).then(function(e){return 200===e.status||0===e.status?Promise.resolve(e):Promise.reject(new Error(e.statusText))}).then(function(e){return e.json()})};define("mw.module.search",["mw.module.settings"],function(e){return{init:function(){"undefined"==typeof MarketWatch&&(MarketWatch={}),"undefined"==typeof MarketWatch.Quote&&(MarketWatch.Quote={}),function(t,n){function r(e){e.Matches&&e.Matches[0]&&(this._instrument=e.Matches[0],this.company=this._instrument.Instrument.CommonName)}var o=function(o,c,i){o.ckey=n,o.EntitlementToken=t,fetchJSON({url:e.endpoints.mux+"/api/dylan/quotes/v2/comp/quoteByDialect",data:o}).then(function(e){for(var t=[],n=0;n<e.InstrumentResponses.length;n++)t.push(new r(e.InstrumentResponses[n]));i(t,c)})};MarketWatch.Quote.getQuoteByDialectForAutocomplete=function(e,t){var n={id:e.symbols.join(","),dialect:"charting",needed:"CompositeTrading|BluegrassChannels|CurrencySpecific",MaxInstrumentMatches:1};o(n,e.searchTerm,t)}}("cecc4267a0194af89ca343805a3e57af","cecc4267a0"),function(e,t,n,r,o,c,i,a,s,l,u,m,p,d,h,f,y,g,v,C,w,k,S,x,E,T){if(n){var b=function(){var t=document.createElement("div");t.style.cssText="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;",e.appendChild(t);var n=t.offsetWidth-t.clientWidth;return e.removeChild(t),n}();r=n.querySelector("input"),o=n.querySelector(".close"),c=n.querySelector(".search--results"),i=function(e){27==e.keyCode&&o.dispatchEvent(new Event("click"))},v=function(e,t,n){var r=n?document.importNode(h.content,!0):document.importNode(p.content,!0),o=r.querySelector("a");o.textContent=e.hasOwnProperty("name")?e.name:e.title,o.attributes.href.value="/topics"+(n?n.prefix:"")+(e.hasOwnProperty("link")?e.link:e.url),n&&n.hasOwnProperty("type")&&(r.querySelector(".result-type").textContent=n.type),t.appendChild(r)},C=function(e,t,n,r,o){if(e&&e._instrument&&e._instrument.CompositeTrading){n.querySelector("a").attributes.href.value="/investing/"+t.type+"/"+t.ticker.replace(/^[^:]*:/,"")+("US"===e._instrument.Instrument.Exchange.CountryCode?"":"?countrycode="+e._instrument.Instrument.Exchange.CountryCode)+(o[e._instrument.Instrument.Ticker.toLowerCase()+e._instrument.Instrument.Exchange.CountryCode]>1?"&iso="+e._instrument.Instrument.Exchange.IsoCode:""),n.querySelector("h4").textContent=t.ticker,n.querySelector(".company").textContent=e.company,n.querySelector(".price").textContent=numeral(e._instrument.CompositeTrading.Last.Price.Value).format("0,0.00");var c=e._instrument.CompositeTrading.NetChange.Value;n.querySelector(".net").textContent=(c>0?"+":"")+numeral(c).format("0.00"),n.querySelector(".net").className=c>0?"change up":0>c?"change down":"change neutral";var i=e._instrument.CompositeTrading.ChangePercent;n.querySelector(".percent").textContent=(i>0?"(+":"(")+numeral(i).format("0.00")+"%)",n.querySelector(".percent").className=i>0?"change up":0>i?"change down":"change neutral",r.appendChild(n)}},k=function(e){var t=document.importNode(y.content,!0);t.querySelector("span").textContent=w(e.querySelectorAll("a").length),e.insertBefore(t,e.querySelector("h3"))},S=function(){for(;c.firstChild;)c.removeChild(c.firstChild)},x=function(){if(s=r.value.trim(),""===s)return void S();"panda"===s.toLowerCase()&&(MarketWatch.quirk=!0);var e={q:s,need:"marketwatch-topic,marketwatch-search-link,symbol",excludeExs:"xmstar",featureClass:"P",style:"full",maxRows:12,name_startsWith:s};fetchJSON({url:"http://data.dowjones.com/autocomplete/data",data:e}).then(function(e){if(!e.originalQuery||e.originalQuery===s){var t,n=document.importNode(m.content,!0),r=n.getElementById?n.getElementById("search-columns"):n.querySelector("#search-columns"),o=n.getElementById?n.getElementById("search-authors"):n.querySelector("#search-authors"),i=n.getElementById?n.getElementById("search-topics"):n.querySelector("#search-topics"),a=n.getElementById?n.getElementById("search-stocks"):n.querySelector("#search-stocks");if(e.mwSearchLinks&&e.mwSearchLinks.length>0){for(t=0;t<e.mwSearchLinks.length;t++)"column"===e.mwSearchLinks[t].type&&(e.mwSearchLinks[t].url=e.mwSearchLinks[t].url.replace(/\/column\//,"/columns/"),v(e.mwSearchLinks[t],r));k(r)}else r.appendChild(document.importNode(f.content,!0));if(e.mwTopics&&e.mwTopics.length>0){var l=!1,u=!1;for(t=0;t<e.mwTopics.length;t++)"journalists"===e.mwTopics[t].type?(l=!0,v(e.mwTopics[t],o,{prefix:"/journalists/"})):"organizations"===e.mwTopics[t].type?(u=!0,v(e.mwTopics[t],i,{prefix:"/organizations/",type:"Organizations"})):"people"===e.mwTopics[t].type?(u=!0,v(e.mwTopics[t],i,{prefix:"/people/",type:"People"})):"companies"===e.mwTopics[t].type?(u=!0,v(e.mwTopics[t],i,{prefix:"/companies/",type:"Companies"})):"subjects"===e.mwTopics[t].type&&(u=!0,v(e.mwTopics[t],i,{prefix:"/subjects/",type:"Subjects"}));l?k(o):o.appendChild(document.importNode(f.content,!0)),u?k(i):i.appendChild(document.importNode(f.content,!0))}else o.appendChild(document.importNode(f.content,!0)),i.appendChild(document.importNode(f.content,!0));if(e.symbols&&e.symbols.length>0){var p={symbols:[],searchTerm:s};for(t=0;t<e.symbols.length;t++)p.symbols.push(e.symbols[t].chartingSymbol);MarketWatch.Quote.getQuoteByDialectForAutocomplete(p,function(r,o){if(s===o){var i=T(r);for(t=0;t<r.length;t++)C(r[t],e.symbols[t],document.importNode(d.content,!0),a,i);k(a),S(),c.appendChild(n)}})}else a.appendChild(document.importNode(f.content,!0)),S(),c.appendChild(n)}})},E=function(e){clearTimeout(l),l=setTimeout(x,u),g.setAttribute("href","/search?q="+r.value.trim())},r.addEventListener("input",E),document.querySelector("#site-search-button").addEventListener("click",function(o){o.preventDefault(),e.style.cssText="position:relative;overflow-y:hidden;margin-right:"+b+"px",t.style.cssText="overflow-y:hidden",n.className="lightbox lightbox--search active",r.focus(),window.addEventListener("keydown",i)}),o.addEventListener("click",function(r){r.preventDefault(),e.style.cssText="position:static;overflow-y:visible;margin-right:auto",t.style.cssText="overflow-y:visible",n.className="lightbox lightbox--search",window.removeEventListener("keydown",i)}),r.addEventListener("keydown",function(e){if(13==e.keyCode){var t=r.value.replace(/^\s+|\s+$/g,"").replace(/,+/gi,",").toLowerCase().replace(/,$|\.,$|:$/,""),n=t.replace(/[$-\/:-?{-~\\]/,""),o=0===n.length,c=!1;if(!o)for(var i=t.split(","),a=0;a<i.length;a++){var s=document.querySelectorAll("#search-stocks a");if(s.length>0){var l;for(l=0;l<s.length;l++)if(s[l].querySelector("h4").textContent.toLowerCase()==i[a]){document.location.href=s[l].getAttribute("href"),c=!0;break}if(l!==s.length)break}if(i[a].length>5&&!c){o=!0;break}var u=/^ABC$|^BAY$|^EGAN$|^AIR$|^ACME$|^GOLD$|^COST$|^KEY$|^GAS$|^CHINA$|^BEER$|^DRUG$|^OIL$|^DOG$|^CPI$|^GDP$|^DNA$|^ETF$|^JAZZ$|^ETFS$|^AUTO$|^FED$|^TAXES$|^OBAMA$|^G20$/i,m=i[a].match(u);if(null!=m&&m.length>0&&m[0].length>0){o=!0;break}var m=i[a].match(/\&|\%/);if(null!=m&&m.length>0&&m[0].length>0){o=!0;break}}if(o)window.top.location="/search?q="+encodeURIComponent(r.value)+"&Link=MW_SearchAC";else if(!c)if(t=t.replace(/\*/,""),t.match(",")||/aux$|nul$|prn$|bin$|con$/gi.test(t)){var p=_autocompleteDomain+_quoteroot+"multi?tickers="+t.replace(/ +/gi,",").replace(/,+/gi,",");document.location.href=p}else{var d="";if(t.indexOf(":")>0){var h=t.split(":");d="?countryCode="+h[0],t=h[1]}var p="/investing/stock/"+encodeURIComponent(t).replace(/ +/gi,",").replace(/,+/gi,",")+d;document.location.href=p}}})}}(document.getElementsByTagName("body")[0],document.getElementsByTagName("html")[0],document.querySelector(".lightbox--search"),null,null,null,null,null,null,null,300,document.getElementById("sr-template"),document.getElementById("sr-editorial-result"),document.getElementById("sr-quote-result"),document.getElementById("sr-topic-result"),document.getElementById("sr-no-results"),document.getElementById("sr-result-count"),document.querySelector(".search--advanced a"),null,null,function(e){return e+(1!==e?" results":" result")},null,null,null,null,function(e){var t,n={};return e.forEach(function(e,r,o){e&&e._instrument&&e._instrument.CompositeTrading&&(t=e._instrument.Instrument.Ticker.toLowerCase()+e._instrument.Instrument.Exchange.CountryCode,n.hasOwnProperty(t)?n[t]++:n[t]=1)}),n})}}});
define("mw.module.tracking",["vendor.asset.jquery/jquery"],function(t){var a=function(t){window.utag&&window.utag.link&&window.utag.link({link_text:t.data})},n=function(t){window.utag&&window.utag.link&&t&&window.utag.link(t)},i=function(t){t&&(t.data("track-click")&&t.click(t.data("track-click"),a),t.data("track-link")&&t.attr("href")&&t.attr("href",t.attr("href")+(t.attr("href").indexOf("?")>=0?"&":"?")+"link="+t.data("track-link")),t.data("track-mod")&&t.attr("href")&&t.attr("href",t.attr("href")+(t.attr("href").indexOf("?")>=0?"&":"?")+"mod="+t.data("track-mod")))},r=function(){t(".trackable").each(function(a,n){i(t(n))})};return{init:function(){t(r)},setupTracking:function(t){i(t)},trackPage:function(t){n(t)}}});
define("mw.module.identity",["jquery","mw.module.settings"],function(n,t){var i=function(){n.getScript(t.identityDomain+"/assets/sso-auth.js",function(){window.onLoginStateChange=function(){document.location.reload()},window.identityLogin=function(){return document.location.href=t.identityDomain+"/login?ifr=1&target="+encodeURIComponent(document.location.href),!1},n("[data-identity]").attr("href",t.identityDomain+"/login?ifr=1&target="+encodeURIComponent(document.location.href))})};return{init:function(){n(i)}}});
define("mw.module.ad.bluekai",["mw.module.ad","jquery"],function(e,n){var t,r=function(){return s?{serverDomain:s.server,primaryProduct:s.channel,pageName:s.pageName,section:s.prop2,articleType:s.prop3,subSection:s.prop26,contentType:s.prop19,encryptedUUID:s.prop25,contentChannel:s.prop1,isSub:s.prop27,edition:s.prop24,referrer:""!==document.referrer?document.referrer.split("/")[2]:""}:{serverDomain:"",primaryProduct:"",pageName:"",section:"",articleType:"",subSection:"",contentType:"",encryptedUUID:"",contentChannel:"",isSub:"",edition:"",referrer:""!==document.referrer?document.referrer.split("/")[2]:""}},o=function(){var n=e.getAll();if(n.length>0){for(var t={},r=!1,o={count:0,items:[]},i={count:0,items:[]},s={count:0,items:[]},u=0;u<n.length&&!(s.count>=10);u++)slotMachine.get(n[u].name).rendered&&(n[u]&&n[u].site&&(r=n[u].site.indexOf("brokerbuttons")>=0),o.items[n[u].site]||(o.items[n[u].site]=!0,t["adSection"+ ++o.count]=n[u].site),i.items[n[u].zone]||(i.items[n[u].zone]=!0,t["adZone"+ ++i.count]=n[u].zone));return t}return{}},i=function(){return t||(t=n.extend(r(),o())),t},u=function(){"undefined"!=typeof blueKai&&setTimeout(function(){blueKai.blueKai.bk_track(!0,i())},500)};return{init:function(){n(window).on("load",u)}}});
define("mw.module.ad.mobile",["mw.module.ad","jquery","jquery.cookie"],function(e,n){var i,o,t=function(){n(i).animate({bottom:-n(i).outerHeight()},500,"swing",function(){n(i).remove()});var e=n(".notification.bulletin");if(e.animate({bottom:0},500,"swing"),n.cookie){var o=new Date((new Date).getTime()+36e5);n.cookie("fixedMobileAd","true",{path:"/",domain:".marketwatch.com",expires:o})}},a=function(){i=n(".ad--mobile"),o=i.find(".ad__close"),i&&(i.on("rendered",function(){i.animate({bottom:0},500,"swing",function(){i.addClass("open");var e=n(".notification.bulletin");e&&e.length?e.animate({bottom:"70px"},function(){i.css("z-index",16)}):o&&o.show()})}),o&&o.on("click",t))};return{init:function(){a()}}});
var _arrive_unique_id_=0;!function(e,t,n){"use strict";function r(e){return e._shouldBeIgnored===n?-1!=(" "+e.className+" ").indexOf(" ignore-arrive ")?e._shouldBeIgnored=!0:null==e.parentNode?e._shouldBeIgnored=!1:e._shouldBeIgnored=r(e.parentNode):e._shouldBeIgnored}function i(e,t,o){for(var d,u=0;d=e[u];u++)r(d)||(s.matchesSelector(d,t.selector)&&(d._id===n&&(d._id=_arrive_unique_id_++),-1==t.firedElems.indexOf(d._id)&&(t.firedElems.push(d._id),o.push({callback:t.callback,elem:d}))),d.childNodes.length>0&&i(d.childNodes,t,o))}function o(e){for(var t,n=0;t=e[n];n++)t.callback.call(t.elem)}function d(e,t){e.forEach(function(e){if(!r(e.target)){var d=e.addedNodes,u=e.target,a=[];null!==d&&d.length>0?i(d,t,a):"attributes"===e.type&&s.matchesSelector(u,t.selector)&&(u._id===n&&(u._id=_arrive_unique_id_++),-1==t.firedElems.indexOf(u._id)&&(t.firedElems.push(u._id),a.push({callback:t.callback,elem:u}))),o(a)}})}function u(e,t){e.forEach(function(e){if(!r(e.target)){var n=e.removedNodes,d=(e.target,[]);null!==n&&n.length>0&&i(n,t,d),o(d)}})}function a(e){var t={attributes:!1,childList:!0,subtree:!0};return e.fireOnAttributesModification&&(t.attributes=!0),t}function c(e){var t={childList:!0,subtree:!0};return t}function l(e){e.arrive=p.bindEvent,s.addMethod(e,"unbindArrive",p.unbindEvent),s.addMethod(e,"unbindArrive",p.unbindEventWithSelectorOrCallback),s.addMethod(e,"unbindArrive",p.unbindEventWithSelectorAndCallback),e.leave=g.bindEvent,s.addMethod(e,"unbindLeave",g.unbindEvent),s.addMethod(e,"unbindLeave",g.unbindEventWithSelectorOrCallback),s.addMethod(e,"unbindLeave",g.unbindEventWithSelectorAndCallback)}if(e.MutationObserver&&"undefined"!=typeof HTMLElement){var s=function(){var e=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;return{matchesSelector:function(t,n){return t instanceof HTMLElement&&e.call(t,n)},addMethod:function(e,t,n){var r=e[t];e[t]=function(){return n.length==arguments.length?n.apply(this,arguments):"function"==typeof r?r.apply(this,arguments):void 0}}}}(),f=function(){var e=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null};return e.prototype.addEvent=function(e,t,n,r){var i={target:e,selector:t,options:n,callback:r,firedElems:[]};return this._beforeAdding&&this._beforeAdding(i),this._eventsBucket.push(i),i},e.prototype.removeEvent=function(e){for(var t,n=this._eventsBucket.length-1;t=this._eventsBucket[n];n--)e(t)&&(this._beforeRemoving&&this._beforeRemoving(t),this._eventsBucket.splice(n,1))},e.prototype.beforeAdding=function(e){this._beforeAdding=e},e.prototype.beforeRemoving=function(e){this._beforeRemoving=e},e}(),v=function(t,n,r){function i(e){return"number"!=typeof e.length&&(e=[e]),e}var o=new f;return o.beforeAdding(function(n){var i,o=n.target;n.selector,n.callback;o!==e.document&&o!==e||(o=document.getElementsByTagName("html")[0]),i=new MutationObserver(function(e){r.call(this,e,n)});var d=t(n.options);i.observe(o,d),n.observer=i}),o.beforeRemoving(function(e){e.observer.disconnect()}),this.bindEvent=function(e,t,r){"undefined"==typeof r&&(r=t,t=n);for(var d=i(this),u=0;u<d.length;u++)o.addEvent(d[u],e,t,r)},this.unbindEvent=function(){var e=i(this);o.removeEvent(function(t){for(var n=0;n<e.length;n++)if(t.target===e[n])return!0;return!1})},this.unbindEventWithSelectorOrCallback=function(e){var t,n=i(this),r=e;t="function"==typeof e?function(e){for(var t=0;t<n.length;t++)if(e.target===n[t]&&e.callback===r)return!0;return!1}:function(t){for(var r=0;r<n.length;r++)if(t.target===n[r]&&t.selector===e)return!0;return!1},o.removeEvent(t)},this.unbindEventWithSelectorAndCallback=function(e,t){var n=i(this);o.removeEvent(function(r){for(var i=0;i<n.length;i++)if(r.target===n[i]&&r.selector===e&&r.callback===t)return!0;return!1})},this},h={fireOnAttributesModification:!1},b={},p=new v(a,h,d),g=new v(c,b,u);t&&l(t.fn),l(HTMLElement.prototype),l(NodeList.prototype),l(HTMLCollection.prototype),l(HTMLDocument.prototype),l(Window.prototype)}}(this,"undefined"==typeof jQuery?null:jQuery);
define("mw.module.article.audio",["require","jquery"],function(i,a){var t,e,u,n=function(){t=jQuery("#article-body"),u=t.find(".audio-inset"),e=jQuery("#article-audio"),(e.length>0||u.length>0)&&i(["jquery.audio-api"],function(){e.mwAudioPlayer({autoplay:!1,tracking:!1,src:e.data("source")}),t.find(".audio-inset").each(function(i,t){var e=a(t);e.mwAudioPlayer({autoplay:!1,tracking:!1,title:e.data("title"),src:e.data("source")})})})};return{init:function(){a(n)}}});
define("mw.module.article.email",["vendor.asset.jquery/jquery"],function(e){var t=function(t){e.post("/story/sendemail",e("#send-email").serialize()).done(function(t){t.success?(e("#email-sent #recipients").text(e("input:text[name=emailTo]").val()),e("#send-email").hide(),e("#email-sent").show()):e("#error-msg").text(t.message).show().delay(1e4).fadeOut()}).fail(function(){e("#error-msg").text("An error has occurred, please try again shortly").show().delay(1e4).fadeOut()}),t.preventDefault()},n=function(){e("body").hasClass("email")&&e("#send-email").submit(t)};return{init:function(){e(n)}}});
define("mw.module.article",["mw.module.chart","mw.module.ui","mw.module.ad","mw.module.settings","bluegrass.quote","vendor.asset.hogan/hogan","mw.vendor.assets/moment-timezone","vendor.asset.michelangelo/michelangelo","vendor.asset.jquery/jquery","dj.responsive.resources/cookieutils"],function(e,t,i,a,o,n,r,s,l,d){var h,c,u,f,m=["small","medium","large","extra-large"],p=1,g={highchartsStyles:{yAxis:{title:{enabled:!0}}}},w={highchartsStyles:{legend:{enabled:!0}}},b={highchartsStyles:{yAxis:{title:{enabled:!1}},legend:{enabled:!0}}},v={highchartsStyles:{chart:{plotBorderWidth:0},plotOptions:{line:{tooltip:{enabled:!1,crosshairs:!1},marker:{enabled:!1}}},legend:{enabled:!1},colors:["rgb(89,148,147)"],xAxis:{title:{enabled:!1},labels:{style:{color:"rgb(102, 102, 102)",align:"left",font:"bold 12px/25px Roboto"}}},yAxis:{title:{enabled:!1},labels:{style:{color:"rgb(85, 85, 85)",font:"bold 14px/25px Roboto",backgroundColor:"rgba(255, 255, 255, 0.9)",padding:"0 2px"}}},tooltip:{enabled:!1}}},y=function(){return l("#article").hasClass("pulse")},T=function(e){u=t.getViewSize();var a=[],o=l("#ad-realtor-ad-content");o.length>0&&((u.isPhone||u.isTabletPortrait)&&o.hide(),l("body").hasClass("slideshow")||(u.isPhone||u.isTabletPortrait||o.show(),e?(u.isPhone||u.isTabletPortrait||(o.data("gotGot")?a.push("Realtor Ad Content"):i.maybeDisplay("Realtor Ad Content","reposition")),a.push("Realtor Ad Sidebar")):(l("#article-body p").length>6?l("#article-body p:nth-of-type(6)").after(o):l(y()?"#hero-chart":"#article-body p:last-child").after(o),u.isPhone||u.isTabletPortrait||i.maybeDisplay("Realtor Ad Content","reposition"))));var n,r=l("#ad-teads"),s=l("#inline-video-ad");r.length>0&&(l("body").hasClass("slideshow")||(u.isPhone||u.isTabletPortrait||r.show(),e?u.isPhone||u.isTabletPortrait||(r.data("gotGot")?a.push("Teads"):i.maybeDisplay("Teads","reposition")):(n=l("#article-body p"),n.length>=8?0===n.eq(5).next(".video-inset").length?n.eq(5).after(s):n.eq(7).after(s):(r.hide(),s.hide()),u.isPhone||u.isTabletPortrait||i.maybeDisplay("Teads","reposition")))),a.length>0&&i.refreshGroup(a)},x=function(e){var i=t.date.makeTimezoney(e.CreateTimestamp.Value),a="h:mm a",o=r.tz("America/New_York");return(o.date()>i.date()||o.month()>i.month()||o.year()>i.year())&&(a="M/DD"),e.FormattedTimestamp=t.date.format(i,a),e.Url="/story"+e.DocumentSEOUri.substring(e.DocumentSEOUri.lastIndexOf("/")),e},P=!1,C=function(e){t.getViewSize().isPhone||0!==e.find(".tip-news ul").html().length||P||(P=!0,l.ajax({url:a.endpoints.mux+"/api/slinger/headlines/103/3",data:{opProp:"symb!~!"+e.data("symb"),version:3,count:3},dataType:"json"}).done(function(t){P=!1,t&&t.HeadlinesResponse&&t.HeadlinesResponse.length>0&&t.HeadlinesResponse[0].Summary&&t.HeadlinesResponse[0].Summary.length>0&&l.each(t.HeadlinesResponse[0].Summary,function(t,i){i&&e.find(".tip-news ul").append(f.render(x(i)))})}))},S=function(e){var t=e.find(".chart"),i=new s.ChartDefinition;i.wantPriorClose=!0;var a={selector:"#"+t.attr("id"),style:v,viewModel:{timeFrame:"D1",step:"PT5M",chartSize:t.width()+"x"+t.height()}};if(0===t.html().trim().length){l.extend(i,a.viewModel);var o=new s.TickerSeries;o.setTicker(t.data("tickers")),o.chartType="line",i.addSeries(o),t.presentation({}).def(i).style(v).size({width:t.width(),height:t.height()}).render()}t.parents(".chartlink").on("click",function(e){e.preventDefault();var t=l(this).data("quotelink");l(this).data("track-mod")&&(t=t+(t.indexOf("?")>=0?"&":"?")+"mod="+l(this).data("track-mod")),location.href=t})},z=function(e){t.getViewSize().isPhone||i.display(e.find(".ad").data("alias"))},k=function(e){e.hasClass("bgDeferredQuote")&&(e.removeClass("bgDeferredQuote").addClass("bgQuote"),o.bindDeferred(e))},D=l("#general-overlay").click(function(e){}),R=function(){var e=null,i=null,a=null;l("div.quote-tip").mouseout(function(e){t.getViewSize().isPhone||l(this).is(":hover")||l(this).hide()}),l("a.qt-chip").hover(function(o){var n=t.getViewSize();if(!n.isPhone){clearTimeout(e),i=l(this),a&&a.attr("id").indexOf(i.data("fancyid")<0)&&a.hide();var r="#qt-"+i.data("fancyid");a=l(r),k(a);var s=i.offset();(n.isTabletLandscape||n.isTabletPortrait)&&(D.show(),l(window).one("touchend",function(){D.one("click",function(){a.hide(),D.hide()})}));var d=14,h=s.left+i.width()/2-a.width()/2-d;10>h?(h=s.left,a.addClass("offsetLeft")):h+a.outerWidth()>l(window).width()?(h=s.left-a.outerWidth()+i.width(),a.addClass("offsetRight")):a.removeClass("offsetRight offsetLeft");var c=s.top,u=s.top-l(window).scrollTop()-l("#site-nav").outerHeight(),f=void 0===a.data("seen")?40:0;u-5<a.outerHeight()?(c+=i.outerHeight()+f+d,a.removeClass("above").addClass("below")):(c-=a.outerHeight()+f+d,a.removeClass("below").addClass("above")),a.data("seen","true"),a.show().offset({top:c,left:h}),C(a),S(a),z(a),o.preventDefault()}},function(i){t.getViewSize().isPhone||t.getViewSize().isTabletLandscape||t.getViewSize().isTabletPortrait||(e=setTimeout(function(){a.is(":hover")||a.hide()},500))}).click(function(e){var i=t.getViewSize().isPhone;t.isTouchy&&!i?e.preventDefault():i&&l(this).prop("target","_blank")})},M=function(){h=l("#article-body"),f=n.compile(l('script[data-template-id="../../mw.module.article/view/partials/_qt_news"]').text()),l(window).on("relativeSizeChanged",T),T();var t=l("#hero-chart").data("tickers");if(t){t=t.split(",");var i={selector:"#hero-chart"};t.length>1?i.style=b:i.style=g;var a=l("#hero-chart").width(),o=Math.max(300,.4*a);i.viewModel={timeFrame:"D1",step:"PT1M",chartSize:a+"x"+o},l("#hero-chart").height(o),c=new e(i);var r=function(){var e=Math.min(a,l("#article").width()),t=Math.max(300,.4*e);l("#hero-chart").width(e).height(t)};l(window).on("resize",r)}h.find(".chart-inset").each(function(t,i){var a=l(i),o=a.width(),n={viewModel:{chartSize:o+"x"+Math.max(300,.4*o)},selector:"#"+a.attr("id"),style:w};new e(n);var r=function(){var e=Math.min(o,l("#article-body").width()),t=Math.max(300,.4*e);a.width(e).height(t)};l(window).on("resize",r)}),R(),l("#article-tools .text-resize").click(function(){var e=m[p];p=(p+1)%m.length,l("#article-body").addClass(m[p]).removeClass(e),d.setGroupCookie("FOXTROT","font_size",p)});var s=d.getGroupCookie("FOXTROT","font_size");s&&s.length&&(p=parseInt(s))};return{init:function(){l(M)}}});
define("mw.module.article.slideshow",["mw.module.ui","mw.module.ad","mw.module.tracking","vendor.asset.hogan/hogan","vendor.asset.jquery/jquery"],function(i,e,t,n,s){var l,a,d,o,r=0,c=1,f=0,u=!1,h=function(){if(window.utag){var i={link_text:"slide show",page_slideshow_name:o,page_slideshow_pagination:c+" of "+f};t.trackPage(i)}},p=function(i){w(i,1===c?f:c-1)},v=function(i){w(i,c===f?1:c+1)},g=function(i){w(i,s(this).data("page"))},w=function(i,e){if(i&&i.preventDefault(),!u&&(u=!0,e!==c)){a.find(".selected").removeClass("selected").siblings("a[data-page='"+e+"']").first().addClass("selected");var t=l.filter(".current").first(),n=l.filter('[data-slide="'+e+'"]').first();if(t.fadeOut(function(){t.removeClass("current")}),n.fadeIn(function(){n.addClass("current"),u=!1}),1===c?a.find(".previous").css("visibility","visible"):c===f&&a.find(".next").css("visibility","visible"),1===e)a.find(".previous").css("visibility","hidden");else if(e===f){a.find(".next").css("visibility","hidden");var s=l.filter(".last-page").first();s&&0===s.find(".slide-overlay").length&&k()}c=e,b(++r),h(),x()}},m=function(i){v(i)},b=function(i){i%3===0&&"phone"!==d&&e.refreshGroup(["Display Ad"])},x=function(){var i=s(".slideshow-page.current");if(i&&i.length>0){var e=i[0].getBoundingClientRect();e.top<0&&s("html,body").animate({scrollTop:s(".slideshow-page.current").offset().top-s("#site-nav").height()},1e3)}},k=function(){var i=this,e=l.filter(".last-page").first(),a=e.find(".article-image-wrap").first();if(a){var d=n.compile(s('script[data-template-id="../../mw.module.article/view/partials/_slideshow_overlay"]').text()),o={};if(o.nextSlideshows=JSON.parse(s("<div/>").html(nextSlideshowsStr).text()),a.append(s(d.render(o))),"undefined"!=typeof dianomiUnitCallback){var r=new dianomiUnitCallback("finalslate",2593,"dianomiFinalSlate","","");r.initialize("dianomiFinalSlate")}a.find(".restart span").click(g),o.nextSlideshows&&o.nextSlideshows.length&&o.nextSlideshows.length>0&&(i.nextSlideshowUrl=o.nextSlideshows[0].url,a.find(".next-slideshow").click(function(e){window.location=i.nextSlideshowUrl})),a.find(".trackable").each(function(i,e){t.setupTracking(s(e))})}},y=function(i){d=i.currentSize},S=function(){s("body").hasClass("slideshow")&&(l=s("#article-body .slideshow-page"),a=s("#article-pagination"),d=i.getRelativeSize(),s(window).on("relativeSizeChanged",y),f=l.length,c=l.filter(".current").first().data("slide"),l.find(".previous-slide").click(p).siblings(".next-slide").click(v),l.find(".replay-slide-show").click(m),a.find(".previous").click(p).siblings(".next").click(v),a.find(".page").click(g),o=l.filter(".first-page").data("deck"),1!==c&&a.find(".previous").css("visibility","visible"),c===f&&(k(),a.find(".next").css("visibility","hidden")))};return{init:function(){s(S)}}});
define("mw.module.article.video",["require","mw.module.settings","vendor.asset.jquery/jquery"],function(e,i,t){var n,a=function(){n=jQuery("#article-body");var a=n.find(".video-inset");a.length>0&&(t('<link type="text/css" rel="stylesheet">').appendTo("head").attr("href",i.videoDomain+"/api-video/player/v3/css/video.css"),e(["video-api"],function(){a.each(function(e,n){var a=t(this).find(".wrapper"),o=a.children(".inner-video");a.height(a.width()/1.777777),o.height(a.height());var r={guid:o.data("guid"),autoplay:!1,type:"guid",api:i.videoDomain+"/api-video/",larsId:92,disableEndscreen:!1,chainVideos:!0,suggestionsType:"",suggestionsQuery:"",site:"video.marketwatch.com"},s=o.data("section"),d=o.data("subsection");""===s&&""===d||(r.suggestionsType=""!==d?"wsj-subsection":"wsj-section",r.suggestionsQuery=""!==d?d:s);var h=$jQ111("#"+o.attr("id"));h.WSJVideo(r),h=$jQ111(o);var u=h.element;u.on("newVideo",function(e,i){var t=a.parent().find("h6"),n=a.parent().find("time"),o=a.parent().find("p");if(t.text().toLowerCase()!==i.name.toLowerCase()){t.html(i.name);var r=parseInt(i.duration),s=Math.floor(r/60),d="0"+(r-60*s);n.html("("+(s+":"+d.substr(-2))+")"),o.html(i.description)}})}).length>0&&t(window).on("resize",function(){a.each(function(e,i){var n=t(i).find(".wrapper"),a=n.width(),o=parseInt(a/1.77777);n.height(o).children(".inner-video").height(o)})})}))};return{init:function(){t(a)}}});
define("mw.module.articleInstruments",["bluegrass.quote","jquery"],function(e,t){var i;return t(function(){i=t("#article-instruments"),i.find("button.more").click(function(){var s=i.find(".bgDeferredQuote");s&&s.length>0&&(s.removeClass("bgDeferredQuote").addClass("bgQuote"),s.each(function(){e.bindDeferred(t(this))}));var n=i.find("ul.hidden").toggle();t(this).text(n.is(":hidden")?t(this).data("show"):t(this).data("hide")),n.is(":hidden")?t(this).removeClass("less"):t(this).addClass("less")})}),{init:function(){}}});
define("mw.module.comments",["numeral","vendor.asset.jquery/jquery","mw.module.settings"],function(e,t,o){var a,n,r=function(){if(a=t("#article-comments"),a.length>0){n={Name:document.title,ArticleId:a.data("article-id"),ElementId:a.attr("id"),Tags:a.data("tags"),Href:t("#canonical-link").attr("href")};for(var e=function(e){var t,o,a,n,r,i,c,s="",m=0,d="",h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=e.replace(/\r\n/g,"\n");for(var l=0;l<e.length;l++){var f=e.charCodeAt(l);128>f?d+=String.fromCharCode(f):f>127&&2048>f?(d+=String.fromCharCode(f>>6|192),d+=String.fromCharCode(63&f|128)):(d+=String.fromCharCode(f>>12|224),d+=String.fromCharCode(f>>6&63|128),d+=String.fromCharCode(63&f|128))}for(;m<d.length;)t=d.charCodeAt(m++),o=d.charCodeAt(m++),a=d.charCodeAt(m++),n=t>>2,r=(3&t)<<4|o>>4,i=(15&o)<<2|a>>6,c=63&a,isNaN(o)?i=c=64:isNaN(a)&&(c=64),s=s+h.charAt(n)+h.charAt(r)+h.charAt(i)+h.charAt(c);return s},r=JSON.stringify(n),i="",c=0;c<r.length;c++){var s=r.charCodeAt(c);i+=39==s?"\\u"+("0000"+s.toString(16)).slice(-4):128>s?r[c]:"?"}var m=window.btoa?window.btoa(i):e(i),d=encodeURIComponent(m);t.extend(MarketWatch.Livefyre.Config,{ExpoPath:o.endpoints.comments+"/"}),t.getScript(o.endpoints.comments+"/djlivefyre?config=MarketWatch.Livefyre.Config&streamInfo="+d).fail(MarketWatch.Livefyre.Config.FailHandler),t("#join-conversation").click(function(e){e.preventDefault(),t("html, body").animate({scrollTop:a.offset().top-t("#site-nav").height()},250)})}};return{init:function(){t(r)}}});var MarketWatch=$.extend(MarketWatch||{},{Livefyre:{Events:{CommentCount:0,ToggleSort:function(){MarketWatch.Livefyre.Events.CommentCount>1?DowJones.LivefyreCommentStream.$stream.find(".fyre-stream-sort").show():DowJones.LivefyreCommentStream.$stream.find(".fyre-stream-sort").hide()}},Config:{StreamOptions:{disableAvatars:!0,initialNumVisible:3},LoadOptions:{strings:{postAsButton:"Post Comment",postButton:"Post Comment"}},LoginHandler:function(){identityLogin()},MissingNameHandler:function(){MarketWatch.choiceBox.ask({question:"Your full name is required to comment",notes:"<p>Your MarketWatch profile requires your real first and last name to comment.</p>",choices:[{title:"EDIT MY PROFILE",callback:function(){document.location.href="http://www.marketwatch.com/user/login/profile"}}]})},SuspendedUserHandler:function(e){MarketWatch.choiceBox.ask({question:"Is your name really <strong>"+e+"</strong>?",notes:'<p>If not, please <a href="http://www.marketwatch.com/user/login/profile">enter your real name</a>.</p><p>If it is, please validate your identity:</p><div class="border">Email a copy of a government-issued ID to <a href="mailto:mwspecialrequests@marketwatch.com">mwspecialrequests@marketwatch.com</a></div>'})},FirstTimeCommenterHandler:function(e,t){MarketWatch.choiceBox.ask({question:"Welcome, "+e,notes:'<p>Your comments are <a href="http://www.marketwatch.com/commenting-guidelines">subject to moderation</a> and may be deleted if you violate <a href="http://www.marketwatch.com/support/disclaimer.asp">our terms</a>.</p>',choices:[{title:"OK",callback:function(){$("body").append($("<div/>",{id:"choiceBoxWashout"})),t(function(){$("#choiceBoxWashout").remove()})}},{title:"CANCEL"}]})},FailHandler:function(){},CommentCountUpdatedHandler:function(e){e||(e=0),$("#share-bar .comment .count, #share-bar-fixed .comment .count").text(numeral(e).format("0,0")),MarketWatch.Livefyre.Events.CommentCount=e,MarketWatch.Livefyre.Events.ToggleSort()},CommentLikedHandler:function(e){setTimeout(function(){$("#fyre-message-"+e.targetId+" .fyre-avatar a").attr("href","javascript:void(0)")},500)},CommentSharedHandler:function(e){window.utag&&window.utag.link&&window.utag.link({link_text:"ugc_livefyrecommentshared"});setTimeout(function(){clearTimeout(t);var o=e.hasOwnProperty("targetId")?$("#fyre-message-"+e.targetId+" .fyre-comment-wrapper"):DowJones.LivefyreCommentStream.$stream.find(".fyre-stream-content .fyre-comment-article:first .fyre-comment-wrapper");o.find(".comment-shared").remove();var a=e.hasOwnProperty("targetId")?"This comment was shared to ":"Your comment was also posted to ",n=e.sharedToTwitter&&e.sharedToFacebook?"<strong>Twitter</strong> and <strong>Facebook</strong>":e.sharedToTwitter?"<strong>Twitter</strong>":"<strong>Facebook</strong>",r=$("<div/>",{"class":"comment-shared",html:a+n});o.append(r),setTimeout(function(){r.fadeOut(3e3)},5e3)},e.hasOwnProperty("targetId")?0:1e3)},CommentPostedHandler:function(){window.utag&&window.utag.link&&window.utag.link({link_text:"Post a comment"})},ReadyHandler:function(){DowJones.LivefyreCommentStream.$stream.after('<div id="powered_by_livefyre_new"><a href="http://livefyre.com" target="_blank">Powered by Livefyre</a></div>'),DowJones.LivefyreCommentStream.CSSHelper.addRules('[data-author-id="'+DowJones.LivefyreCommentStream.UserAuthorId+'"]+header+section+footer .fyre-comment-like-btn { display: none !important; }'),setTimeout(function(){$(".fyre-avatar a").attr("href","javascript:void(0)")},500),MarketWatch.Livefyre.Events.ToggleSort()}}},choiceBox:{defaultChoice:{title:"",callback:function(){},isDefault:!1},isOpen:!1,close:function(){MarketWatch.choiceBox.isOpen&&($("#choiceBoxWashout").remove(),$("#choiceBox").remove(),MarketWatch.choiceBox.isOpen=!1)},ask:function(e){if(!MarketWatch.choiceBox.isOpen){MarketWatch.choiceBox.isOpen=!0;var t={};$.extend(t,{choices:[],question:"",notes:""},e),$("body").append($("<div />",{id:"choiceBox"}).append($("<a />",{"class":"closeLink",href:"#"})).append($("<h3 />",{html:t.question})).append($("<div />",{html:t.notes})).append($("<div />",{"class":"btns"})).append($("<div />",{"class":"footer",html:'<a href="http://www.marketwatch.com/commenting-faqs">Commenting FAQs</a> | <a href="http://www.marketwatch.com/commenting-guidelines">Commenting Guidlines</a> | <a href="http://www.marketwatch.com/support/privacy.asp">Privacy Policy</a>'}))).append($("<div/>",{id:"choiceBoxWashout"})),t.choices.length>0?$(t.choices).each(function(){var e={},t=this;$.extend(e,MarketWatch.choiceBox.defaultChoice,t),$("#choiceBox .btns").append($("<div />",{html:'<a href="javascript:void(0)">'+e.title+"</a>",title:e.title}).bind("click",function(){return MarketWatch.choiceBox.close(),e.callback(),!1}))}):$("#choiceBox .btns").remove(),$("#choiceBox .closeLink").bind("click",function(){return MarketWatch.choiceBox.close(),!1});var o=($(window).width()-$("#choiceBox").outerWidth())/2,a=($(window).height()-$("#choiceBox").outerHeight())/2+$(document).scrollTop();$("#choiceBox").css({left:o,top:a}),$("#choiceBox .btns>a:last").focus(),$("#choiceBoxWashout").css({width:$("body").outerWidth(),height:$("body").outerHeight()})}}}});
define("mw.module.sharebar",["numeral","mw.module.social","mw.module.ui","jquery"],function(i,t,e,n){var o={},s=function(){o.$bar=n("#share-bar, #share-bar-fixed");var i,t=n("body"),s=o.$bar.find(".share-icons"),r=e.getScrollbarSize(),c=e.getViewSize().isPhone;o.$bar.find(".total-shares").click(function(){i=n(window).scrollTop(),c&&n("#market-overview").css("z-index",9),t.css("position","fixed").css("margin-right",r).css("top",-1*i),n("#banner-chrome").css("position","static"),n("#non-chrome").addClass("static"),s.addClass("visible"),setTimeout(function(){s.css("right",0)},0)}),s.click(function(){setTimeout(function(){s.css("right",-120)},0),setTimeout(function(){s.removeClass("visible")},250),t.css("position","static").css("margin-right",0).css("top","auto"),n(window).scrollTop(i),n("#non-chrome").removeClass("static"),setTimeout(function(){n("#banner-chrome").css("position","relative"),c&&n("#market-overview").css("z-index",1e3)},250)}),o.$bar.find("button.comment").click(function(i){i.preventDefault();var t=n("#article-comments");t.length>0&&n("body,html").animate({scrollTop:t.offset().top-70},400)});var a=function(){var i=n("#syndication-link");return i.length?i.attr("href"):n("#canonical-link").attr("href")};a()};return{init:function(){n(s)}}});
define("dj.asset.require-module-init",[],function(){function e(){function e(e){if("function"==typeof e.init)try{e.init()}catch(i){console.error("[module.init] "+i.message+"\n"+i.stack)}}var i,t,n=window.require,r=n.s.contexts._.registry,o=Object.prototype.hasOwnProperty,u=/\.module\./;for(t in r)o.call(r,t)&&(i=u.test(t),i&&n([t],e))}return{init:e}}),require(["dj.asset.require-module-init"],function(e){e.init()});
$(function(){var t=FrameMessenger.parent(),n=function(t){var n=null;return $.each($("iframe"),function(e,i){i.contentWindow==t&&(n=i)}),n?$(n):n},e={dimension:function(t,e){var i=/^\d+(?:\.\d+)?%?$/,h=n(t);e&&h&&(i.test(e.width)&&h.width(e.width),i.test(e.height)&&h.height(e.height))},height:function(t,e){var i=/^\d+$/;i.test(e)&&n(t).height(Math.round(e))}};t.setActions(e)});
//# sourceMappingURL=maps/articletail.min-76a4294203.js.map